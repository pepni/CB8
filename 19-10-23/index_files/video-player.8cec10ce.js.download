(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-player"],{"09c6":function(e,t,i){},"0d09":function(e,t,i){"use strict";i("a4a0")},"0fd5":function(e,t,i){"use strict";i("5125")},1107:function(e,t,i){"use strict";i("8efa")},"213d":function(e,t,i){},"21f9":function(e,t,i){"use strict";i("3e1c")},2913:function(e,t,i){"use strict";i("9620")},3332:function(e,t,i){},3833:function(e,t,i){"use strict";i("09c6")},"3a3b":function(e,t,i){"use strict";i("b78a")},"3be5":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"videoPlayer",staticClass:"video-player",class:e.videoPlayerCls},[e.enableRedesignLayout?i("zm-scrollbar",{staticClass:"player-panel-l-scroller",attrs:{"wrap-style":"overflow-x:hidden;"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowSharePanel(),expression:"shouldShowSharePanel()"}],ref:"playerShareWrapper",staticClass:"player-panel-l"},[i("div",{ref:"playerShare",staticClass:"player-share",style:e.playerShareStyl},[e.shouldHaveSharePlayer?i("video",{ref:"sharePlayer",staticClass:"video-js"}):e._e()])])]):i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowSharePanel(),expression:"shouldShowSharePanel()"}],ref:"playerShareWrapper",staticClass:"player-panel-l"},[i("div",{ref:"playerShare",staticClass:"player-share",style:e.playerShareStyl},[e.shouldHaveSharePlayer?i("video",{ref:"sharePlayer",staticClass:"video-js"}):e._e()])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDraggable,expression:"showDraggable"}],staticClass:"draggable"},[i("div",{staticClass:"bar",on:{mousedown:e.onMouseDown}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasASLVideo&&!e.isDrag,expression:"hasASLVideo && !isDrag"}],staticClass:"fixed-line"})]),i("div",{ref:"panelR",staticClass:"player-panel-r",style:e.panelRStyl},[e.showSignLanguageTitle?i("div",{staticClass:"sign-language",style:e.signLanguageTitleStyle},[e._v(e._s(e.$t("asl_sign_language"))+" ("+e._s(e.signLanguage)+")")]):e._e(),e.enableRedesignLayout?i("zm-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAttendeePanel,expression:"shouldShowAttendeePanel"}],staticClass:"attendee-player-wrapper",attrs:{"wrap-style":"overflow-x:hidden;"}},[e.shouldHaveAttendeePanel?i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAttendeePanel,expression:"shouldShowAttendeePanel"}],ref:"playerAttendee",staticClass:"player-attendee",style:e.playerAttendeeStyl},[i("video",{ref:"attendeePlayer",staticClass:"video-js attendee-player"})]):e._e()]):[e.shouldHaveAttendeePanel?i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAttendeePanel,expression:"shouldShowAttendeePanel"}],ref:"playerAttendee",staticClass:"player-attendee",style:e.playerAttendeeStyl},[i("video",{ref:"attendeePlayer",staticClass:"video-js attendee-player"})]):e._e()],i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPlayerViewWrapper,expression:"showPlayerViewWrapper"}],ref:"playerViewWrapper",staticClass:"player-view-wrapper",style:e.playerViewWrapperStyl},[e.showGettyNotice?i("getty-notice",{ref:"gettyNotice"}):e._e(),e.enableRedesignLayout?i("zm-scrollbar",{staticClass:"player-view-scroller",style:e.playerViewScrollerStyle,attrs:{"wrap-style":"overflow-x:hidden;"}},[i("div",{ref:"playerView",staticClass:"player-view",style:e.playerViewStyl,on:{contextmenu:function(e){e.preventDefault()}}},[i("video",{ref:"player",staticClass:"video-js"},[e.needLoadChapter?i("track",{attrs:{src:e.chapterUrl,kind:"chapters"}}):e._e(),e.ccUrl?i("track",{attrs:{id:"cc_track",src:e.ccUrl,kind:"captions",srclang:"en"}}):e._e(),e.transcriptUrl?i("track",{attrs:{id:"transcript_track",src:e.transcriptUrl,kind:"captions",srclang:"en"}}):e._e(),e.needPslVtt?i("track",{attrs:{src:e.psUrl,kind:"metadata"}}):e._e()]),e.hasASLVideo?i("video",{ref:"signPlayer",staticClass:"video-js vjs-hidden sign-player"}):e._e(),e.showSmartChapters?i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasSmartChapters,expression:"hasSmartChapters"}],ref:"leftBottomWrapper",staticClass:"left-bottom-wrapper",style:e.leftBottomWrapperStyle,on:{contextmenu:function(e){e.stopPropagation()}}},[e.hasSmartChapters?i("head-summary"):e._e()],1):e._e()])]):i("div",{ref:"playerView",staticClass:"player-view",style:e.playerViewStyl,on:{contextmenu:function(e){e.preventDefault()}}},[i("video",{ref:"player",staticClass:"video-js"},[e.needLoadChapter?i("track",{attrs:{src:e.chapterUrl,kind:"chapters"}}):e._e(),e.ccUrl?i("track",{attrs:{id:"cc_track",src:e.ccUrl,kind:"captions",srclang:"en"}}):e._e(),e.transcriptUrl?i("track",{attrs:{id:"transcript_track",src:e.transcriptUrl,kind:"captions",srclang:"en"}}):e._e(),e.needPslVtt?i("track",{attrs:{src:e.psUrl,kind:"metadata"}}):e._e()]),e.hasASLVideo?i("video",{ref:"signPlayer",staticClass:"video-js vjs-hidden sign-player"}):e._e(),e.showSmartChapters?i("div",{ref:"leftBottomWrapper",staticClass:"left-bottom-wrapper",style:e.leftBottomWrapperStyle,on:{contextmenu:function(e){e.stopPropagation()}}},[e.player?i("smart-chapter-wrapper",{attrs:{player:e.player}}):e._e()],1):e._e()])],1),!e.enableRedesignLayout&&e.showNextSteps?i("div",{staticClass:"right-wrapper",style:e.rightWrapperStyl,on:{contextmenu:function(e){e.stopPropagation()}}},[i("div",{ref:"transcriptWrapper",staticClass:"transcript-wrapper",style:e.transcriptWrapperStyl},[e.playerReady?i("transcript",{attrs:{player:e.player}}):e._e()],1),i("div",{staticClass:"next-step-wrapper"},[i("next-step")],1)]):[e.hasTranscriptOrChat?i("div",{ref:"transcriptWrapper",staticClass:"transcript-wrapper",style:e.transcriptWrapperStyl,on:{contextmenu:function(e){e.stopPropagation()}}},[e.playerReady?i("transcript",{attrs:{player:e.player}}):e._e()],1):e._e()]],2),e.hasInterpreterList?i("video",{ref:"audioPlayer",staticClass:"video-js vjs-hidden"}):e._e()],1)},a=[],n=i("de79"),r=(i("ef14"),i("cfce"),i("841a"),i("ef1f"),i("2aa5"),i("62c8"),i("9a51"),i("fa8c"),i("30e2"),i("d721"),i("72dfb")),o=i("85bf"),l=i("7739"),h=i("eded"),c=i("2a34"),u=(i("33ef"),i("b55a"),i("2d6d"),i("7ac5")),d=i("e3e2"),p=i("9ce4"),m=(i("918c"),i("c592")),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-pop-marker",attrs:{role:"tooltip","aria-label":e.content}},[i("div",{staticClass:"content"},[i("span",[e._v(e._s(e.content))])]),i("div",{staticClass:"time"},[i("span",[e._v(e._s(e.formattedTime))])])])])},g=[],v=(i("e94e"),i("f3d0")),y=i("c364"),w=i("8b55"),b={name:"vjs-marker-tip",mixins:[v["a"]],directives:{Clickoutside:y["a"]},props:{content:String,time:Number,reference:String},computed:Object(n["a"])({formattedTime:function(){return Object(w["e"])(this.time)}},Object(p["e"])(["popMenuShow"])),mounted:function(){this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]},methods:Object(n["a"])({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()}},Object(p["d"])({setPopMarkerShow:"SET_POP_MARKER_SHOW"})),watch:{showPopper:function(e){this.setPopMarkerShow(e)},popMenuShow:function(e){e&&this.hide()}}},P=b,S=(i("7d99"),i("2be6")),C=Object(S["a"])(P,f,g,!1,null,"6c119804",null),x=C.exports,M={components:{VjsPopMarker:x},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(p["e"])(["popMenuShow"])),Object(p["c"])(["hasThumbnail","hasSmartChapters"])),{},{customTimeTooltip:function(){return this.hasThumbnail||this.hasSmartChapters}}),methods:{onMouseEnterNew:function(){if(this.customTimeTooltip){var e=this.player.thumbnailSprite(),t=e.thumbnailSpriteInstance;t.updateTime(this.time),t.updateName(this.content),t.updateMouseOnMaker(!0)}else this.onMouseEnter()},onMouseLeaveNew:function(){if(this.customTimeTooltip){var e=this.player.thumbnailSprite(),t=e.thumbnailSpriteInstance;t.updateName(""),t.updateMouseOnMaker(!1)}else this.onMouseLeave()},onMouseDown:function(e){var t=0;this.customTimeTooltip&&e.button===t&&(this.changeToCurrent(),e.preventDefault(),e.stopPropagation())},onMouseEnter:function(){this.popMenuShow||this.showPopMarker()},onMouseLeave:function(){this.hidePopMarker()},onFocus:function(){this.customTimeTooltip||this.showPopMarker()},showPopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.show()},hidePopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.hide()},getMarkerStyl:function(){var e=parseInt(this.time/this.duration*1e4)/100;return{left:e+"%"}}}},k=i("eec4"),T=i("f5ea"),_={name:"vjs-share-marker",mixins:[m["a"],M],props:{cue:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:Object(n["a"])({duration:function(){return this.player.duration()},content:function(){return this.cue.text},time:function(){return this.cue.startTime-this.offsetStart},ariaLabel:function(){return this.content+","+Object(T["a"])(this.time)}},Object(p["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-share-marker",style:this.getMarkerStyl(this.cue)},[e("span",{class:"vjs-share-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnterNew,mouseleave:this.onMouseLeaveNew,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.content,time:this.time,reference:"button"},ref:"popMarker"})])},methods:{onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;t===i.enter||t===i.space?(this.changeToCurrent(),e.preventDefault()):t!==i.tab&&t!==i.esc||(this.hidePopMarker(),t===i.esc&&e.preventDefault()),e.stopPropagation()},changeToCurrent:function(){Object(T["b"])("Position moved to Share Marker "+Object(T["a"])(this.time)),this.player.realCurrentTime(this.cue.startTime)}}},j=i("422e"),O=i("d3a4"),L=i("54b4"),A=window.Vue,$=u["default"].getPlugin("plugin"),I=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.player=e,s.sharePlayer?(a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.pollingCreateMarker(),a):Object(l["a"])(a)}return Object(o["a"])(i,[{key:"updateShareCues",value:function(e){d["a"].commit("UPDATE_SHARE_CUES",[].slice.call(e))}},{key:"pollingCreateMarker",value:function(){var e=this.player,t=this;function i(){var s=t.getChapterTrack();s?(t.chapterTrack=s,t.updateShareCues(s.cues),Object(O["a"])().then((function(){t.createMarker(s,e),t.checkCueState(s),t.bindEvents(s)}))):setTimeout(i,500)}i()}},{key:"getChapterTrack",value:function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var i=e[t];if("chapters"===i.kind&&i.cues)return i}}},{key:"createMarker",value:function(e,t){var i=e.cues,s=this.sharePlayer,a=this.attendeePlayer,n=new A({store:d["a"],render:function(e){return e(E,{props:{player:t,sharePlayer:s,attendeePlayer:a,cues:[].slice.call(i)}})}});n.$mount(),t.controlBar.progressControl.contentEl().appendChild(n.$el)}},{key:"checkCueState",value:function(e){var t=e.activeCues[0];!t||"Sharing Chapter"!==t.text.trim()&&"Sharing Started"!==t.text.trim()?this.player.trigger("share-start",!1):this.player.trigger("share-start",!0)}},{key:"bindChapterEvents",value:function(){var e=this;function t(){var i=e.getChapterTrack();i?(e.chapterTrack=i,e.checkCueState(i),e.bindEvents(i)):setTimeout(t,500)}t()}},{key:"disposed",value:function(){var e=this.player,t=this.chapterTrack;e.removeRemoteTextTrack(t)}},{key:"bindEvents",value:function(e){var t=this;e.addEventListener("cuechange",(function(){t.checkCueState(e)}))}}]),i}($);u["default"].registerPlugin("shareMarker",I);var E={mixins:[j["a"]],components:{VjsShareMarker:_},props:{cues:{type:Array,default:function(){return[]}}},computed:Object(n["a"])({duration:function(){return this.player.duration()}},Object(p["e"])(["offsetStart","isNewSwitchViewLogic","playbackModel"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-share-markers-bar",directives:[{name:"show",value:!this.isNewSwitchViewLogic||this.isNewSwitchViewLogic&&this.playbackModel!==L["e"].AttendeeView}]},[this.renderMakers()])},methods:{renderMakers:function(){var e=this,t=this.$createElement;return this.cues.filter((function(t){var i=t.startTime-e.offsetStart;return!("Recording Started"===t.text.trim()||i<=0||i>e.duration)})).map((function(i,s){return t("vjs-share-marker",{attrs:{cue:i,player:e.player,"active-player":e.activePlayer},key:i.startTime+"/"+s})}))}}},W={name:"vjs-psl-marker",mixins:[m["a"],M],props:{cue:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:Object(n["a"])({duration:function(){return this.player.duration()},content:function(){return this.cue.text},time:function(){return this.cue.startTime-this.offsetStart},ariaLabel:function(){return this.content+","+Object(T["a"])(this.time)}},Object(p["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-psl-marker",style:this.getMarkerStyl(this.cue)},[e("span",{class:"vjs-psl-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnterNew,mouseleave:this.onMouseLeaveNew,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.content,time:this.time,reference:"button"},ref:"popMarker"})])},methods:{onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;t===i.enter||t===i.space?(this.changeToCurrent(),e.preventDefault()):t!==i.tab&&t!==i.esc||(this.hidePopMarker(),t===i.esc&&e.preventDefault()),e.stopPropagation()},changeToCurrent:function(){Object(T["b"])("Position moved to Production Studio Marker "+Object(T["a"])(this.time)),this.player.realCurrentTime(this.cue.startTime)}}},V=window.Vue,D=u["default"].getPlugin("plugin"),H=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.player=e,s.attendeePlayer?(a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.pslCreateMarker(),a):Object(l["a"])(a)}return Object(o["a"])(i,[{key:"updatePslCues",value:function(e){d["a"].commit("UPDATE_PSL_CUES",[].slice.call(e))}},{key:"pslCreateMarker",value:function(){var e=this.player,t=this;function i(){var s=t.getPslTrack();s?(t.pslTrack=s,t.updatePslCues(s.cues),Object(O["a"])().then((function(){t.createMarker(s,e),t.checkCueState(s),t.bindEvents(s)}))):setTimeout(i,500)}i()}},{key:"getPslTrack",value:function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var i=e[t];if("metadata"===i.kind&&i.cues)return i}}},{key:"createMarker",value:function(e,t){var i=e.cues,s=this.sharePlayer,a=this.attendeePlayer,n=new V({store:d["a"],render:function(e){return e(B,{props:{player:t,sharePlayer:s,attendeePlayer:a,cues:[].slice.call(i)}})}});n.$mount(),t.controlBar.progressControl.contentEl().appendChild(n.$el)}},{key:"checkCueState",value:function(e){var t=e.activeCues[0];t&&"Production Studio Started"===t.text.trim()?this.player.trigger("psl-start",!0):this.player.trigger("psl-start",!1)}},{key:"bindChapterEvents",value:function(){var e=this;function t(){var i=e.getPslTrack();i?(e.pslTrack=i,e.checkCueState(i),e.bindEvents(i)):setTimeout(t,500)}t()}},{key:"disposed",value:function(){var e=this.player,t=this.pslTrack;e.removeRemoteTextTrack(t)}},{key:"bindEvents",value:function(e){var t=this;e.addEventListener("cuechange",(function(){t.checkCueState(e)}))}}]),i}(D);u["default"].registerPlugin("pslMarker",H);var B={mixins:[j["a"]],components:{VjsPslMarker:W},props:{cues:{type:Array,default:function(){return[]}}},computed:Object(n["a"])(Object(n["a"])({duration:function(){return this.player.duration()}},Object(p["e"])(["offsetStart"])),Object(p["c"])(["needPslVtt","isAttendeeViewOn"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-psl-markers-bar",directives:[{name:"show",value:this.needPslVtt&&this.isAttendeeViewOn}]},[this.renderMakers()])},methods:{renderMakers:function(){var e=this,t=this.$createElement;return this.cues.filter((function(t){var i=t.startTime-e.offsetStart;return!("Recording Started"===t.text.trim()||i<0||i>e.duration)})).map((function(i,s){return t("vjs-psl-marker",{attrs:{cue:i,player:e.player,"active-player":e.activePlayer},key:i.startTime+"/"+s})}))}}},R=(i("f063"),i("4f0e")),N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"vjs-pop-menu"},[e.isAsl?i("div",{staticClass:"vjs-menu-title"},[e._v(e._s(e.$t("asl_both_asl_menu_title")))]):e._e(),e.showMenuItems?i("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-menu",expression:"'vjs-pop-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},e._l(e.menuItems,(function(t,s){return i("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-menu-item",expression:"'vjs-pop-menu-item'"}],key:t.val,ref:"item",refInFor:!0,class:{selected:t===e.selectedItem,"is-hover":e.hoverIndex===s,"disable-item":e.itemDisabled},style:{paddingLeft:e.selectedItem?"30px":"16px"},attrs:{role:"menuitemradio","aria-checked":t===e.selectedItem},on:{click:function(i){return e.onItemClick(t)}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t===e.selectedItem&&!e.onlyOneMenuItem,expression:"item === selectedItem && !onlyOneMenuItem"}],staticClass:"zm-icon-ok"}),e._t("default",null,{language:t}),i("span",[e._v(e._s(t.text))])],2)})),0):e._e(),e.checkboxMenuItems&&e.checkboxMenuItems.length?i("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-checkbox-mode-menu",expression:"'vjs-pop-checkbox-mode-menu'"}],ref:"list",staticClass:"list checkboxItems",attrs:{role:"menu"}},e._l(e.checkboxMenuItems,(function(t,s){return i("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-checkbox-mode-menu-item",expression:"'vjs-pop-checkbox-mode-menu-item'"}],key:t.val,ref:"item",refInFor:!0,staticClass:"checkbox-item",class:{checked:t.status,"is-hover":e.hoverIndex===s},attrs:{role:"menuitemradio","aria-checked":t.status},on:{click:function(i){return e.onCheckboxClick(t)}}},[t.status?i("zm-icon",{staticClass:"checkbox-icon",attrs:{size:"small"}},[i("use",{attrs:{href:"#rec-checked","xlink:href":"#rec-checked"}})]):i("zm-icon",{staticClass:"checkbox-icon",attrs:{size:"small"}},[i("use",{attrs:{href:"#rec-unchecked","xlink:href":"#rec-unchecked"}})]),e._t("default",null,{language:t}),i("span",{staticClass:"checkbox-text-span"},[e._v(e._s(t.text))])],2)})),0):e._e()])])},U=[],z=i("b617"),F={name:"vjs-pop-menu",mixins:[v["a"]],directives:{Uid:z["a"]},props:{menuItems:Array,selectedItem:Object,isAsl:Boolean,hoverIndex:Number,checkboxMenuItems:Array,showMenuItems:Boolean},inject:["dropdown"],computed:Object(n["a"])(Object(n["a"])({},Object(p["c"])(["isASLSelected"])),{},{onlyOneMenuItem:function(){var e;return 1===(null===(e=this.menuItems)||void 0===e?void 0:e.length)},itemDisabled:function(){return this.isASLSelected||this.onlyOneMenuItem}}),mounted:function(){this.popperElm=this.$el,this.referenceElm=this.$parent.$el;var e=this.$refs.item;if(e)for(var t=0;t<e.length;t++)this.dropdown.options.push(e[t])},methods:Object(n["a"])({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},onItemClick:function(e){this.hide(),this.itemDisabled||this.$emit("selected",e)},onCheckboxClick:function(e){this.hide(),this.$emit("checked",e)}},Object(p["d"])({setPopMenuShow:"SET_POP_MENU_SHOW"})),watch:{showPopper:function(e){this.setPopMenuShow(e)}}},q=F,K=(i("a367"),Object(S["a"])(q,N,U,!1,null,"7af8bb42",null)),G=K.exports,J=i("d38d"),X=i("f33f"),Z=window.Vue,Y=u["default"].getPlugin("plugin"),Q=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.audioPlayer=s.audioPlayer,a.signPlayer=s.signPlayer,a.attendeePlayer=s.attendeePlayer,a.createModelControl(e),a}return Object(o["a"])(i,[{key:"createModelControl",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.audioPlayer,n=t.signPlayer,r=t.attendeePlayer,o=new Z({store:d["a"],i18n:i,render:function(t){return t(ee,{props:{player:e,sharePlayer:s,audioPlayer:a,signPlayer:n,attendeePlayer:r}})}});o.$mount(),e.extendControl().addChild(o.$el)}))}}]),i}(Y);u["default"].registerPlugin("playbackModel",Q);var ee={mixins:[j["a"],J["a"],m["a"],X["a"]],components:{VjsPopMenu:R["a"],VjsModePopMenu:G},data:function(){return{menuItems:[{val:"AS",text:this.$t("speaker_view")},{val:"GV",text:this.$t("gallery_view")}],previousMode:this.playbackModel,checkboxMenuItems:[]}},mounted:function(){this.isNewSwitchViewLogic&&this.playModeItem&&(this.playModeItem.length>0&&(-1===this.playModeItem.indexOf(this.playbackModel)&&this.setPlaybackModel(this.playModeItem[0]),this.previousMode=this.playbackModel),this.isNewSwitchViewLogic&&this.hasValidPsl&&this.checkboxMenuItems.push({val:L["e"].AttendeeView,text:this.$t("attendee_view"),status:this.isAttendeeViewOn}))},computed:Object(n["a"])(Object(n["a"])({newModeMenuItems:function(){var e=this,t=[];return this.playModeItem.forEach((function(i){i===L["e"].SpeakerView?t.push({val:L["e"].SpeakerView,text:e.$t("speaker_view")}):i===L["e"].GalleryView&&t.push({val:L["e"].GalleryView,text:e.$t("gallery_view")})})),2===t.length&&(t.pop(),t.pop(),t.push({val:L["e"].SpeakerView,text:this.$t("speaker_view")}),t.push({val:L["e"].GalleryView,text:this.$t("gallery_view")})),t},modeMenuItems:function(){return this.isNewSwitchViewLogic?this.newModeMenuItems:this.menuItems},showNewPlayMode:function(){return this.isNewSwitchViewLogic&&(this.hasValidPsl||this.newModeMenuItems.length>1)},showMenuItems:function(){return!this.isNewSwitchViewLogic||this.newModeMenuItems.length>=1},showOriginalPlayMode:function(){return this.gallaryMp4Url&&!this.isASLSelected},showPlayMode:function(){return this.isNewSwitchViewLogic?this.showNewPlayMode:this.showOriginalPlayMode},originSelectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.val===e.playbackModel}))},newModeSelectItem:function(){var e=this;return this.newModeMenuItems.find((function(t){return t.val===e.playbackModel}))},selectedItem:function(){return this.isNewSwitchViewLogic?this.newModeSelectItem:this.originSelectedItem},modeIconClassName:function(){return this.isNewSwitchViewLogic?this.playbackModel===L["e"].SpeakerView?"zm-icon-active-speaker-view":this.playbackModel===L["e"].GalleryView?"zm-icon-grid-view":void 0:"zm-icon-active-speaker-view"},isAnyPlayerFull:function(){return this.player.isFullscreen()||this.sharePlayer&&this.sharePlayer.isFullscreen()||this.attendeePlayer&&this.attendeePlayer.isFullscreen()}},Object(p["e"])(["gallaryMp4Url","viewMp4Url","shareStart","playbackModel","language","isNewSwitchViewLogic","shareMp4Url","productionStudioMp4Url","speakerMp4Url","viewMp4WithshareUrl","galleryMp4Url","gallaryMp4WithshareUrl"])),Object(p["c"])(["isASLSelected","hasValidPsl","isAttendeeViewOn","masterPlayerUrlName","playModeItem"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-playback-model-control",directives:[{name:"show",value:this.showPlayMode},{name:"clickoutside",value:this.hidePopMenu}]},[e("button",{class:["vjs-playback-model-control-button vjs-control"],on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown},attrs:{"aria-haspopup":!0,"aria-label":"Playback Model","aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId()}},[e("i",{attrs:{"arial-hidden":"true"},class:this.modeIconClassName})]),this.isNewSwitchViewLogic?e("vjs-mode-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.modeMenuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex,"show-menu-items":this.showMenuItems,checkboxMenuItems:this.checkboxMenuItems},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex,checked:this.handleCheckboxChecked}}):e("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.modeMenuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.$t("switch_view")},ref:"popTitle"})])},methods:Object(n["a"])({onControlClick:function(){this.toggleShowPopMenu(),this.$refs.popTitle.hide()},handleCheckboxChecked:function(e){if(e.val===L["e"].AttendeeView&&this.hasValidPsl){var t=!e.status;this.setAttendeeStatus(t);var i=this.checkboxMenuItems.find((function(e){return e.val===L["e"].AttendeeView}));i&&(i.status=t),this.player.trigger("attendee-on",t)}},handleCommand:function(e){var t=this;this.setPlaybackModel(e.val);var i=this.player,s=i.currentTime(),a=document.activeElement;if(this.isNewSwitchViewLogic){if(e.val===this.previousMode)return;if(this.isASLSelected)return;i.trigger("normal-mode-switch"),i.src({type:"video/mp4",src:this[this.masterPlayerUrlName]}),this.previousMode=this.playbackModel}else{if(this.isASLSelected)return;var n="GV"===e.val&&this.gallaryMp4Url?this.gallaryMp4Url:this.viewMp4Url;i.src({type:"video/mp4",src:n})}i.one("canplay",(function(){i.currentTime(s),i.play(),a.focus();var e=i.volume(),n=t.language,r=t.audioPlayer;r&&"origin"!==n&&e>0&&t.setUnmuteStyle(i)}))},setUnmuteStyle:function(e){var t=e.controlBar.volumePanel.muteToggle.contentEl();t.classList.remove("vjs-vol-0"),t.classList.add("vjs-vol-3")}},Object(p["b"])(["setPlaybackModel","setAttendeeStatus"]))},te=window.Vue,ie=u["default"].getPlugin("plugin"),se=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.createComp(e),a}return Object(o["a"])(i,[{key:"createComp",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.attendeePlayer,n=new te({store:d["a"],i18n:i,render:function(t){return t(ae,{props:{player:e,sharePlayer:s,attendeePlayer:a}})}});n.$mount(),e.extendControl().addChild(n.$el)}))}}]),i}(ie);u["default"].registerPlugin("fullscreenToggle",se);var ae={mixins:[j["a"],J["a"],m["a"]],data:function(){return{fullScreen:!1}},computed:{iconCls:function(){return this.fullScreen?"zm-icon-exit-fullscreen":"zm-icon-fullscreen"},controlText:function(){return this.fullScreen?"Exit Full Screen":"Enter Full Screen"}},render:function(){var e=arguments[0];return e("div",{class:"vjs-fullscreen-toggle-control"},[e("button",{class:"vjs-fullscreen-toggle-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown}},[e("i",{attrs:{"arial-hidden":"true"},class:this.iconCls})]),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){var e=this,t=this.player,i=this.sharePlayer,s=this.attendeePlayer;t.on("fullscreenchange",(function(){e.handleFullscreenChange(t)})),i&&i.on("fullscreenchange",(function(){e.handleFullscreenChange(i)})),s&&s.on("fullscreenchange",(function(){e.handleFullscreenChange(s)}))},methods:{handleFullscreenChange:function(e){var t=this;setTimeout((function(){t.fullScreen=e.isFullscreen()}),0)},onControlClick:function(){this.fullScreen?this.activePlayer.exitFullscreen():this.activePlayer.requestFullscreen()},onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;t===i.enter&&this.onControlClick()},getTitle:function(){return this.fullScreen?this.player.localize("Non-Fullscreen"):this.player.localize("Fullscreen")}}},ne=(i("3247"),i("defa"),i("66fb")),re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.8125 9.21276C17.2919 9.41375 17.7023 9.74665 17.9983 10.1661C17.9994 10.1108 18 10.0555 18 10C18 5.58171 14.4183 2 10 2C5.58171 2 2 5.58171 2 10C2 14.4183 5.58171 18 10 18C11.4745 18 12.8558 17.6011 14.0419 16.9053C13.7371 16.6634 13.4848 16.3583 13.3048 16.0097C12.88 16.2438 12.4276 16.4342 11.9538 16.5747C12.385 15.8758 12.7441 14.952 13 13.876V11.75C13 11.2086 13.1564 10.7038 13.4265 10.2783C13.4279 10.1859 13.4286 10.0931 13.4286 10C13.4286 9.41157 13.4014 8.838 13.3497 8.28572H16.6411C16.7187 8.58721 16.7763 8.89672 16.8125 9.21276ZM12.2857 10C12.2857 9.40582 12.2563 8.83204 12.2015 8.28572H7.79854C7.74382 8.83204 7.71432 9.40582 7.71432 10C7.71432 10.5942 7.74379 11.168 7.79854 11.7143H12.2015C12.2563 11.168 12.2857 10.5942 12.2857 10ZM11.9538 3.42521C12.5158 4.33604 12.9553 5.62904 13.2034 7.14286H16.2354C15.4177 5.36129 13.859 3.9905 11.9538 3.42521ZM10.5318 3.44211C10.2653 3.17914 10.0869 3.14286 10 3.14286L9.99993 3.14282C9.91304 3.14282 9.73468 3.17907 9.46818 3.44207C9.19679 3.70993 8.89997 4.15414 8.62604 4.79332C8.3475 5.44321 8.11593 6.24025 7.95586 7.14286H12.0441C11.884 6.24025 11.6524 5.44325 11.3739 4.79336C11.1 4.15418 10.8031 3.70993 10.5318 3.44211ZM11.3739 15.2066C11.6525 14.5568 11.884 13.7598 12.0441 12.8571H7.95596C8.11604 13.7598 8.34764 14.5568 8.62614 15.2066C8.90007 15.8459 9.19689 16.2901 9.46829 16.558C9.73475 16.8209 9.91314 16.8571 10 16.8571C10.0869 16.8571 10.2653 16.8209 10.5318 16.558C10.8032 16.2901 11.1 15.8458 11.3739 15.2066ZM8.04618 16.5747C7.48429 15.6639 7.04471 14.371 6.79657 12.8571H3.76464C4.58229 14.6388 6.14104 16.0095 8.04618 16.5747ZM3.35889 11.7143H6.65032C6.59864 11.162 6.57143 10.5884 6.57143 10C6.57143 9.41157 6.59864 8.838 6.65032 8.28572H3.35889C3.21786 8.83364 3.14286 9.40804 3.14286 10C3.14286 10.592 3.21786 11.1664 3.35889 11.7143ZM3.76464 7.14286H6.79657C7.04471 5.629 7.48429 4.33607 8.04618 3.42521C6.14107 3.9905 4.58232 5.36129 3.76464 7.14286Z"}}),i("rect",{attrs:{x:"14",y:"10",width:"3.5",height:"6.5",rx:"1.75"}}),i("rect",{attrs:{x:"15.5",y:"16",width:"0.5",height:"2"}}),i("rect",{attrs:{x:"14",y:"18",width:"0.5",height:"3.5",rx:"0.25",transform:"rotate(-90 14 18)"}})])},oe=[],le={name:"svgIcon",props:{size:Number}},he=le,ce=(i("adb9"),Object(S["a"])(he,re,oe,!1,null,"0f841564",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"vjs-pop-tips",attrs:{role:"tooltip",tabindex:"0","aria-label":e.ariaLabel}},[i("div",{staticClass:"vjs-pop-tips__content"},[i("div",{staticClass:"vjs-pop-tips__body"},[e.title?i("div",{staticClass:"vjs-pop-tips__title"},[i("span",[e._v(e._s(e.title))])]):e._e(),e.description?i("p",{staticClass:"vjs-pop-tips__description"},[e._v(e._s(e.description))]):e._e()]),e.closable?[i("zm-button",{staticClass:"vjs-pop-tips__close",staticStyle:{height:"24px"},attrs:{type:"icon",size:"large",ghost:"",icon:"zm-icon-close","aria-label":e.$t("close")},on:{click:function(t){return t.stopPropagation(),e.hide(t)}}})]:e._e()],2),i("div",{staticClass:"vjs-pop-tips__arrow",style:{right:e.rightX+"px"}})])])},pe=[],me=(i("d6de"),i("8d0f"),{name:"vjs-pop-title",mixins:[v["a"]],props:{title:String,closable:Boolean,description:String,offsetDom:String,isAsl:Boolean,reference:[String,HTMLElement]},data:function(){return{rightX:0}},computed:Object(n["a"])(Object(n["a"])({},Object(p["e"])(["popMenuShow"])),{},{ariaLabel:function(){return this.title+" "+this.description}}),mounted:function(){var e=this;this.popperElm=this.$el,this.referenceElm=this.reference?"string"===typeof this.reference?this.$parent.$refs[this.reference]:this.reference:this.$parent.$el,setTimeout((function(){if(e.isAsl){var t,i=null===(t=e.$parent)||void 0===t?void 0:t.$el,s=i.offsetParent.clientWidth-i.offsetLeft;"guide"===e.offsetDom?e.rightX=s+3:e.rightX=s-14}else{var a=e.referenceElm;e.rightX=a.offsetParent.clientWidth-a.offsetLeft-14}}),0)},methods:{show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))}},watch:{popMenuShow:function(e){e&&this.hide()}}}),fe=me,ge=(i("97b3"),Object(S["a"])(fe,de,pe,!1,null,"4d493476",null)),ve=ge.exports,ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"vjs-pop-title",attrs:{role:"tooltip","aria-label":e.title}},[e.loading?i("i",{staticClass:"zm-icon-loading"}):e._e(),i("span",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")])])])},we=[],be={name:"vjs-pop-loading",props:{title:String,loading:Boolean},data:function(){return{showPopper:!1}},computed:Object(n["a"])({},Object(p["e"])(["popMenuShow"])),mounted:function(){},methods:{show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))}},watch:{popMenuShow:function(e){}}},Pe=be,Se=(i("f8f7"),Object(S["a"])(Pe,ye,we,!1,null,"f26b6138",null)),Ce=Se.exports,xe=window.Vue,Me=u["default"].getPlugin("plugin"),ke=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.synchronize=s.synchronize,a.createLanguageAudioLibControl(e),a}return Object(o["a"])(i,[{key:"createLanguageAudioLibControl",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.attendeePlayer,n=t.synchronize,r=new xe({store:d["a"],i18n:i,render:function(t){return t(Te,{props:{player:e,sharePlayer:s,synchronize:n,attendeePlayer:a}})}});r.$mount(),e.extendControl().addChild(r.$el),t.comp=r}))}}]),i}(Me);u["default"].registerPlugin("languageAudioLib",ke);var Te={mixins:[j["a"],m["a"],X["a"],J["a"]],components:{VjsPopMenu:R["a"],VjsPopTips:ve,SvgIcon:ue,VjsPopLoading:Ce},data:function(){return{popTitle:this.$t("language_interpretation")+" "+this.$t("language_origin"),loadingTitle:"",audioLoading:!1,audioEnded:!1,tipsContent:this.$t("interpretation_tips_content"),tipsTitle:this.$t("interpretation_tips_title")}},computed:Object(n["a"])(Object(n["a"])({aslLanguageList:function(){return this.aslVideoList||[]},interpreterList:function(){return this.interpreterAudioList||[]},hasGuideBox:function(){return this.aslLanguageList.length&&this.interpreterList.length},menuItems:function(){var e=this,t=this.interpreterList.map((function(t){var i=Object(n["a"])({},t),s=t.languageText;if(s)i.text=s,i.ariaText=s;else{var a=t.language;a.startsWith("C-")?(i.text=a.substring(2),i.ariaText=a.substring(2)):(i.text=e.$t("language_".concat(a)),i.ariaText=e.$t("language_".concat(a)))}return i})),i=this.$t("language_origin");return t.unshift({language:"origin",audioUrl:"",text:i,ariaText:i,icon:"zm-icon-global"}),t},selectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.language===e.language}))},customLanguageText:function(){return this.selectedItem?this.selectedItem.text.substring(0,1).toUpperCase():""},showLanguageTips:function(){return ne["a"].get("cmr_video_language_tips",!1)},icon:function(){return this.selectedItem?this.selectedItem.icon:"zm-icon-global"},speedAriaLabel:function(){return"Playback Language"+(this.selectedItem?",".concat(this.selectedItem.ariaText):"")},useIcon:function(){return!this.selectedItem||"origin"===this.language},isPlayerFullScreen:function(){var e;return null===(e=this.player)||void 0===e?void 0:e.isFullscreen()},isSharePlayerFullScreen:function(){var e;return null===(e=this.sharePlayer)||void 0===e?void 0:e.isFullscreen()},isAttendeePlayerFullScreen:function(){var e;return null===(e=this.attendeePlayer)||void 0===e?void 0:e.isFullscreen()},nowPlayPslWithoutOtherFullScreen:function(){return this.nowPlayPsl&&!this.isPlayerFullScreen&&!this.isSharePlayerFullScreen},nowChoosePsl:function(){return this.isAttendeePlayerFullScreen||this.nowPlayPslWithoutOtherFullScreen}},Object(p["e"])(["language","aslVideoList","interpreterAudioList"])),Object(p["c"])(["nowPlayPsl"])),mounted:function(){this.showLanguageTips||this.hasGuideBox||this.$refs.popTips&&this.$refs.popTips.show()},render:function(){var e=this,t=arguments[0];return t("div",{class:"vjs-language-control",directives:[{name:"clickoutside",value:this.hidePopMenu}]},[t("button",{class:"vjs-control",on:{click:this.onControlClick,keydown:this.onKeyDown,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave},attrs:{"aria-haspopup":!0,"aria-label":this.speedAriaLabel,"aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId()}},[this.useIcon?t("i",{attrs:{"arial-hidden":"true"},class:"zm-icon-global-original",style:"fontSize: 20px"}):t("div",{class:"vjs-control__span"},[t("span",[this.icon])])]),t("vjs-pop-tips",{attrs:{placement:this.placement,offset:"0, 14px",modifiers:this.modifiers,"append-to-body":!1,title:this.tipsTitle,closable:!0,description:this.tipsContent},on:{hide:this.hideTips},ref:"popTips"}),t("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex},scopedSlots:{default:function(i){return"origin"!==i.language.language?t("div",{class:"vjs-control__span vjs-control__span--item",style:{borderColor:i.language.language===e.language?"#2D8CFF":"#98A0A9",color:i.language.language===e.language?"#2D8CFF":"#98A0A9"}},[t("span",[i.language.icon])]):t("i",{class:"zm-icon-global-original",style:{color:i.language.language===e.language?"#2D8CFF":"#98A0A9",fontSize:"20px",marginLeft:"-2px",marginRight:"3px"}})}}}),t("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.popTitle},ref:"popTitle"}),t("vjs-pop-loading",{attrs:{title:this.loadingTitle,loading:!0},ref:"loadingPop"})])},methods:Object(n["a"])({onControlClick:function(){this.toggleShowPopMenu()},getCustomLanguageText:function(e){return e?e.substring(0,1).toUpperCase():""},hideTips:function(){ne["a"].set("cmr_video_language_tips","true")},handleCommand:function(e){var t=this;if(e.language!==this.language){this.audioEnded=!1;var i=e.language;this.setLanguage(i),this.popTitle=this.$t("language_interpretation")+" "+e.text,this.$refs.popTitle.show(),"origin"!==e.language?this.synchronize.chooseAudio({type:"audio/mp4",src:e.audioUrl},this.nowChoosePsl):this.synchronize.chooseAudio(void 0,this.nowChoosePsl);var s=setTimeout((function(){t.$refs.popTitle.hide()}),1e3),a=setTimeout((function(){t.player.paused()||(t.audioEnded=!0)}),1e3),n=this.player.currentTime();0===n||this.player.paused()||(this.synchronize.once("buffering",(function(){t.audioLoading||t.audioEnded||(t.audioLoading=!0,t.$refs.popTitle.hide(),s&&clearTimeout(s),t.loadingTitle=t.$t("interpretation_loading"),t.$refs.loadingPop.show())})),this.synchronize.once("buffered-and-auto-play",(function(){t.audioLoading&&(t.audioLoading=!1,a&&clearTimeout(a),t.$refs.popTitle.hide(),t.$refs.loadingPop.hide())})))}}},Object(p["d"])({setLanguage:"SET_LANGUAGE"}))},_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-pop-both-menu"},[i("div",{staticClass:"vjs-menu-title"},[e._v(e._s(e.$t("asl_both_asl_menu_title")))]),i("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-asl-menu",expression:"'vjs-pop-asl-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},e._l(e.menuItems,(function(t,s){return i("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-asl-menu-item",expression:"'vjs-pop-asl-menu-item'"}],key:t.val,ref:"item",refInFor:!0,class:{selected:t===e.selectedItem,"is-hover":e.hoverIndex===s},style:{paddingLeft:e.selectedItem?"30px":"16px"},attrs:{role:"menuitemradio","aria-checked":t===e.selectedItem},on:{click:function(i){return e.onItemClick(t)}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t===e.selectedItem,expression:"item === selectedItem"}],staticClass:"zm-icon-ok"}),e._t("default",null,{language:t}),i("span",[e._v(e._s(t.text))])],2)})),0),i("div",{staticClass:"vjs-menu-title"},[e._v(e._s(e.$t("asl_both_audio_menu_title")))]),i("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-audio-menu",expression:"'vjs-pop-audio-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},e._l(e.menuAudioItems,(function(t,s){return i("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-pop-audio-menu-item",expression:"'vjs-pop-audio-menu-item'"}],key:t.val,ref:"item",refInFor:!0,class:{selected:t===e.selectedAudioItem,"is-hover":e.hoverIndex===s},style:{paddingLeft:e.selectedAudioItem?"30px":"16px"},attrs:{role:"menuitemradio","aria-checked":t===e.selectedAudioItem},on:{click:function(i){return e.onAudioItemClick(t)}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t===e.selectedAudioItem,expression:"item === selectedAudioItem"}],staticClass:"zm-icon-ok"}),e._t("default",null,{language:t}),i("span",[e._v(e._s(t.text))])],2)})),0)])])},je=[],Oe={name:"vjs-both-source-menu",mixins:[v["a"]],directives:{Clickoutside:y["a"],Uid:z["a"]},props:{menuItems:Array,menuAudioItems:Array,selectedItem:Object,selectedAudioItem:Object,isAsl:Boolean,hoverIndex:Number},inject:["dropdown"],mounted:function(){this.popperElm=this.$el,this.referenceElm=this.$parent.$el;var e=this.$refs.item;if(e)for(var t=0;t<e.length;t++)this.dropdown.options.push(e[t])},methods:Object(n["a"])({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()},onItemClick:function(e){this.hide(),this.$emit("selected",e)},onAudioItemClick:function(e){this.hide(),this.$emit("selected-audio",e)}},Object(p["d"])({setPopMenuShow:"SET_POP_MENU_SHOW"})),watch:{showPopper:function(e){this.setPopMenuShow(e)}}},Le=Oe,Ae=(i("df08"),Object(S["a"])(Le,_e,je,!1,null,"7b63ebd6",null)),$e=Ae.exports,Ie=window.Vue,Ee=1e3,We=u["default"].getPlugin("plugin"),Ve=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.signPlayer=s.signPlayer,a.attendeePlayer=s.attendeePlayer,a.audioPlayer=s.audioPlayer,a.synchronize=s.synchronize,a.createLanguageAslControl(e),a}return Object(o["a"])(i,[{key:"createLanguageAslControl",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.signPlayer,n=t.attendeePlayer,r=t.audioPlayer,o=t.synchronize,l=new Ie({store:d["a"],i18n:i,render:function(t){return t(De,{props:{player:e,signPlayer:a,sharePlayer:s,attendeePlayer:n,audioPlayer:r,synchronize:o}})}});l.$mount(),e.extendControl().addChild(l.$el),t.comp=l}))}}]),i}(We);u["default"].registerPlugin("languageAsl",Ve);var De={mixins:[j["a"],m["a"],X["a"],J["a"]],components:{VjsPopMenu:R["a"],VjsPopTips:ve,SvgIcon:ue,VjsPopLoading:Ce,VjsBothSourceMenu:$e},data:function(){return{audioLoading:!1,loadingTitle:"",audioEnded:!1,tipsContent:"",tipsTitle:""}},computed:Object(n["a"])(Object(n["a"])({popHoverTips:function(){var e,t,i=(null===(e=this.selectedItem)||void 0===e?void 0:e.text)||this.$t("asl_language_origin");if(!this.hasGuideBox)return i;var s=(null===(t=this.selectedAudioItem)||void 0===t?void 0:t.text)||this.$t("asl_both_audio_origin_text");return i+", "+s},aslLanguageList:function(){return this.aslVideoList||[]},interpreterList:function(){return this.interpreterAudioList||[]},hasGuideBox:function(){return this.aslLanguageList.length&&this.interpreterList.length},menuAudioItems:function(){var e=this,t=this.interpreterList.map((function(t){var i=Object(n["a"])({},t),s=t.languageText;if(s)i.text=s,i.ariaText=s;else{var a=t.language;a.startsWith("C-")?(i.text=a.substring(2),i.ariaText=a.substring(2)):(i.text=e.$t("language_".concat(a)),i.ariaText=e.$t("language_".concat(a)))}return i})),i=this.$t("asl_both_audio_origin_text");return t.unshift({language:"origin",audioUrl:"",text:i,ariaText:i,icon:"zm-icon-global"}),t},selectedAudioItem:function(){var e=this;return this.menuAudioItems.find((function(t){return t.language===e.language}))},menuItems:function(){var e=this.aslLanguageList.map((function(e){var t=e.languageText;return Object(n["a"])(Object(n["a"])({},e),{},{text:t,ariaText:t})})),t=this.$t("asl_language_origin");return e.unshift({language:"origin",videoUrl:"",text:t,ariaText:t,languageText:t}),e},selectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.language===e.aslLanguage}))},showLanguageTips:function(){return ne["a"].get("cmr_asl_language_tips",!1)},speedAriaLabel:function(){return"Playback Sign Language"+("origin"!==this.aslLanguage?",".concat(this.selectedItem.ariaText):"Off")},mainPlayerUrl:function(){return"GV"===this.playbackModel&&this.gallaryMp4Url?this.gallaryMp4Url:this.viewMp4Url},isPlayerFullScreen:function(){var e;return null===(e=this.player)||void 0===e?void 0:e.isFullscreen()},isSharePlayerFullScreen:function(){var e;return null===(e=this.sharePlayer)||void 0===e?void 0:e.isFullscreen()},isAttendeePlayerFullScreen:function(){var e;return null===(e=this.attendeePlayer)||void 0===e?void 0:e.isFullscreen()},nowPlayPslWithoutOtherFullScreen:function(){return this.nowPlayPsl&&!this.isPlayerFullScreen&&!this.isSharePlayerFullScreen},nowChoosePsl:function(){return this.isAttendeePlayerFullScreen||this.nowPlayPslWithoutOtherFullScreen}},Object(p["e"])(["aslLanguage","language","shareStart","shareMp4Url","chapterUrl","viewMp4WithshareUrl","gallaryMp4WithshareUrl","interpreterAudioList","viewMp4Url","gallaryMp4Url","playbackModel","aslVideoList","isNewSwitchViewLogic"])),Object(p["c"])(["nowPlayPsl"])),mounted:function(){var e=this;this.$nextTick((function(){e.showLanguageTips||(e.tipsContent=e.$t(e.hasGuideBox?"double_asl_interpretation_content":"asl_interpretation_content"),e.tipsTitle=e.$t(e.hasGuideBox?"double_asl_interpretation_title":"asl_interpretation_title"),e.$refs.popTips&&e.$refs.popTips.show())}))},render:function(){var e=arguments[0];return e("div",{class:"vjs-language-control",directives:[{name:"clickoutside",value:this.hidePopMenu}]},[e("button",{class:"vjs-control",on:{click:this.onControlClick,keydown:this.onKeyDown,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave},attrs:{"aria-haspopup":!0,"aria-label":this.speedAriaLabel,"aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId()},ref:"aslBtn"},[e("i",{attrs:{"arial-hidden":"true"},class:"zm-icon-global",style:"fontSize: 20px"})]),e("vjs-pop-tips",{attrs:{placement:this.placement,offset:"0, 14px",modifiers:this.modifiers,"append-to-body":!1,title:this.tipsTitle,"is-asl":!0,"offset-dom":"aslBtn",closable:!0,description:this.tipsContent},on:{hide:this.hideTips},ref:"popTips"}),this.hasGuideBox?e("vjs-both-source-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.menuItems,"menu-audio-items":this.menuAudioItems,"selected-item":this.selectedItem,"selected-audio-item":this.selectedAudioItem,"hover-index":this.hoverIndex,"is-asl":!0},ref:"popMenu",on:{selected:this.handleCommand,"selected-audio":this.handleSelectedAudio,hide:this.resetHoverIndex}}):e("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex,"is-asl":!0},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.popHoverTips},ref:"popTitle"}),this.hasGuideBox?e("vjs-pop-loading",{attrs:{title:this.loadingTitle,loading:!0},ref:"loadingPop"}):""])},methods:Object(n["a"])({onControlClick:function(){this.toggleShowPopMenu()},hideTips:function(){ne["a"].set("cmr_asl_language_tips","true")},handleSelectedAudio:function(e){var t=this;if(e.language!==this.language){this.audioEnded=!1;var i=e.language;this.setLanguage(i),this.$refs.popTitle.show(),"origin"!==e.language?this.synchronize.chooseAudio({type:"audio/mp4",src:e.audioUrl},this.nowChoosePsl):this.synchronize.chooseAudio(void 0,this.nowChoosePsl),this.hidePopTitleTimer&&clearTimeout(this.hidePopTitleTimer),this.hidePopTitleTimer=setTimeout((function(){t.$refs.popTitle.hide()}),Ee),this.watcherTimer&&clearTimeout(this.watcherTimer),this.watcherTimer=setTimeout((function(){t.player.paused()||(t.audioEnded=!0)}),Ee);var s=this.player.currentTime();0===s||this.player.paused()||(this.synchronize.once("buffering",(function(){t.audioLoading||t.audioEnded||(t.audioLoading=!0,t.$refs.popTitle.hide(),t.hidePopTitleTimer&&clearTimeout(t.hidePopTitleTimer),t.loadingTitle=t.$t("interpretation_loading"),t.$refs.loadingPop.show())})),this.synchronize.once("buffered-and-auto-play",(function(){t.audioLoading&&(t.audioLoading=!1,t.watcherTimer&&clearTimeout(t.watcherTimer),t.$refs.popTitle.hide(),t.$refs.loadingPop.hide())})))}},handleSignPlayerUrlChange:function(e){var t=e.language,i=e.videoUrl,s=this.signPlayer;if(s){var a="origin"!==t?i:this.mainPlayerUrl;a!==s.src()&&s.src({type:"video/mp4",src:a})}},handleSharePlayerUrlChange:function(e){var t=e.language,i=this.sharePlayer;if(i){var s=this.mainPlayerUrl;if("origin"!==t&&this.shareStart){var a=this.viewMp4WithshareUrl||this.shareMp4Url;s="GV"===this.playbackModel&&this.gallaryMp4WithshareUrl?this.gallaryMp4WithshareUrl:a}else("origin"===t||this.shareStart)&&(s=this.shareMp4Url||this.mainPlayerUrl);s!==i.src()&&i.src({type:"video/mp4",src:s})}},exitFullscreen:function(){var e=this.player,t=this.sharePlayer,i=this.attendeePlayer;e.isFullscreen()?e.exitFullscreen():t&&t.isFullscreen()?t.exitFullscreen():i&&i.isFullscreen()&&i.exitFullscreen()},handleCommand:function(e){var t=this;if(e.language!==this.aslLanguage){var i=e.language,s=this.player,a=this.signPlayer;this.exitFullscreen(),this.setAslLanguage(i),this.handleSharePlayerUrlChange(e),this.handleSignPlayerUrlChange(e),"origin"!==e.language?(this.isNewSwitchViewLogic||(s.hide(),a.show()),s.trigger("sign-play",!0)):(this.isNewSwitchViewLogic||(s.show(),a.hide()),s.trigger("sign-play",!1)),this.showerTimer&&clearTimeout(this.showerTimer),this.showerTimer=setTimeout((function(){t.$refs.popTitle.show()}),200),this.popperTimer&&clearTimeout(this.popperTimer),this.popperTimer=setTimeout((function(){t.$refs.popTitle.hide()}),Ee+200)}}},Object(p["d"])({setAslLanguage:"SET_ASL_LANGUAGE",setLanguage:"SET_LANGUAGE"}))},He=i("3e2c"),Be=window.Vue,Re=u["default"].getPlugin("plugin"),Ne=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.createCaptionsControl(e),a.bindEvents(),a}return Object(o["a"])(i,[{key:"createCaptionsControl",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.attendeePlayer,n=new Be({store:d["a"],i18n:i,render:function(t){return t(Ue,{props:{player:e,sharePlayer:s,attendeePlayer:a},ref:"comp"})}});n.$mount(),e.extendControl().addChild(n.$el),t.captionsComp=n}))}},{key:"bindEvents",value:function(){var e=this,t=this.player,i=t.textTrackDisplay.contentEl(),s=0;t.on("player-resize",(function(t,a){var n=a.mainPlayerWidth,r=e.getFontSizeByWidth(n);r!==s&&(0!==s&&Object(He["c"])(i,"font-"+s),s=r,Object(He["a"])(i,"font-"+r))}))}},{key:"getFontSizeByWidth",value:function(e){return e<=1e3?16:16+Math.round(.016*(e-1e3))}}]),i}(Re);u["default"].registerPlugin("captions",Ne);var Ue={mixins:[j["a"],J["a"],m["a"],X["a"]],components:{VjsPopMenu:R["a"]},data:function(){return{currentCaptions:null}},computed:Object(n["a"])(Object(n["a"])({iconClass:function(){return null!==this.currentCaptions?"zm-icon-cc-transcript":"zm-icon-cc-transcript-outline"},selectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.val===e.currentCaptions}))},menuItems:function(){var e=[];return this.ccUrl&&e.push({val:"cc",text:this.$t("cc_transcript")}),this.transcriptUrl&&e.push({val:"audio",text:this.$t("audio_transcript")}),e.length&&e.unshift({val:null,text:this.$t("no_transcript")}),e},hasPopup:function(){return this.menuItems.length>2},captionsAriaLabel:function(){return this.hasPopup?"Subtitles/closed captions":null!==this.currentCaptions?"Hide Subtitles/closed captions":"Show Subtitles/closed captions"}},Object(p["e"])(["ccUrl","transcriptUrl","currentLang"])),Object(p["c"])(["useAutomatedTranslation"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-captions-control",directives:[{name:"show",value:this.menuItems.length},{name:"clickoutside",value:this.hidePopMenu}]},[e("button",{class:"vjs-captions-control-button vjs-control",on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onMyKeyDown},attrs:{"aria-haspopup":this.hasPopup,"aria-label":this.captionsAriaLabel,"aria-expanded":this.getMyExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMyMenuId()}},[e("i",{attrs:{"arial-hidden":"true"},class:this.iconClass})]),e("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){this.currentCaptions=this.ccUrl?"cc":null},methods:Object(n["a"])({getMyExpandState:function(){return!!this.hasPopup&&this.getExpandState()},getMyMenuId:function(){return!!this.hasPopup&&this.getMenuId()},onMyKeyDown:function(e){if(!this.hasPopup){var t=e.keyCode,i=k["a"].keys;if(t!==i.space)return}this.onKeyDown(e)},onControlClick:function(){this.menuItems.length>2?(this.toggleShowPopMenu(),this.$refs.popTitle.hide()):null===this.currentCaptions?this.currentCaptions=this.menuItems[1].val:this.currentCaptions=this.menuItems[0].val},handleCommand:function(e){this.currentCaptions=e.val},getTitle:function(){return this.menuItems.length>2?this.$t("subtitle"):null===this.currentCaptions?this.$t("show_subtitle"):this.$t("hide_subtitle")},closeCaptions:function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var i=e[t];"captions"===i.kind&&(i.mode="hidden")}},getCurrentLangTranscript:function(e){var t=this,i=null;if(this.useAutomatedTranslation){var s;this.updateCurrentCaptionsType(e);var a=null===(s=this.player.textTracks())||void 0===s?void 0:s.tracks_;i=a&&a.find((function(e){return e.label===t.currentLang.code}))}return i},openCaptions:function(e){for(var t=this.player.textTracks(),i=this.getCurrentLangTranscript(e),s=0;s<t.length;s++){var a=t[s];"captions"===a.kind&&(a.mode="hidden","cc"===e&&"cc_track"===a.id?a.mode="showing":this.useAutomatedTranslation&&i?"audio"===e&&a.label===this.currentLang.code&&(a.mode="showing"):"audio"===e&&"transcript_track"===a.id&&(a.mode="showing"))}}},Object(p["d"])({updateCurrentCaptionsType:"UPDATE_CURRENT_CAPTIONS_TYPE"})),watch:{currentCaptions:{immediate:!0,handler:function(e){null===e?this.closeCaptions():this.openCaptions(e)}}}},ze=i("20d7"),Fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"zm-fade-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-context-menu",on:{contextmenu:function(e){e.preventDefault()}}},[e.reference?e._e():i("div",{ref:"reference",staticClass:"reference",style:e.referenceStyl}),i("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu",expression:"'vjs-context-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},e._l(e.commands,(function(t,s){return i("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu-item",expression:"'vjs-context-menu-item'"}],key:t.action,ref:"item",refInFor:!0,class:{"is-hover":e.hoverIndex===s},attrs:{role:"menuitem"},on:{click:function(i){return e.onItemClick(t)},mousedown:function(e){e.stopPropagation()}}},[i("span",[e._v(e._s(t.text))])])})),0)])])},qe=[],Ke=(i("11ed"),[]);function Ge(e){Ke.push(e),Xe(e)}function Je(e){Ke.splice(Ke.indexOf(e),1)}function Xe(e){e.$on("show",(function(){Ke.forEach((function(t){t!==e&&t.hide()}))}))}var Ze={name:"vjs-context-menu",mixins:[v["a"]],directives:{Clickoutside:y["a"],Uid:z["a"]},props:{pos:Object,reference:String,commands:Array,player:Object,hoverIndex:Number},computed:{referenceStyl:function(){return{left:this.pos.x?this.pos.x+"px":"50%",top:this.pos.y?this.pos.y+"px":"50%"}}},inject:["menu"],mounted:function(){this.reference?(this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]):(this.popperElm=this.$refs.list,this.referenceElm=this.$refs.reference);for(var e=this.$refs.item,t=0;t<e.length;t++)this.menu.options.push(e[t]);Ge(this)},beforeDestroy:function(){Je(this)},methods:Object(n["a"])({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()},onItemClick:function(e){this.hide(),this.$emit("command",e)}},Object(p["d"])({setPopMenuShow:"SET_POP_MENU_SHOW"})),watch:{pos:function(){this.updatePopper()},showPopper:function(e){this.setPopMenuShow(e)}}},Ye=Ze,Qe=(i("0fd5"),Object(S["a"])(Ye,Fe,qe,!1,null,"3fbe9509",null)),et=Qe.exports,tt=window.Vue,it=u["default"].getPlugin("plugin"),st=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,d["a"].state.hasPermissionEdit&&!d["a"].state.trimming&&a.createContextMenu(e),a}return Object(o["a"])(i,[{key:"createContextMenu",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=t.sharePlayer,a=t.attendeePlayer,n=new tt({i18n:i,store:d["a"],render:function(t){return t(at,{props:{player:e,sharePlayer:s,attendeePlayer:a}})}});n.$mount(),e.contentEl().appendChild(n.$el),t.contextMenuComp=n}))}}]),i}(it);u["default"].registerPlugin("contextMenu",st);var at={mixins:[j["a"],m["a"],ze["a"]],components:{VjsContextMenu:et},data:function(){return{pos:{x:0,y:0},modifiers:{preventOverflow:{boundariesElement:this.player.contentEl(),padding:5},computeStyle:{gpuAcceleration:!1}},commands:[{text:this.$t("add_chapter"),action:"add-chapter"}],options:[]}},provide:function(){return{menu:this}},render:function(e){return e(et,{props:{placement:"bottom-start",modifiers:this.modifiers,pos:this.pos,player:this.activePlayer,commands:this.commands,appendToBody:!1,hoverIndex:this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})},mounted:function(){this.focusPlayerEl(),this.initAria(),this.bindEvents()},methods:{initAria:function(){var e=this.player,t=this.sharePlayer,i=this.attendeePlayer,s=e.contentEl().querySelector(".vjs-tech"),a="Video Player, press Shift+F10 for more options";if(s.setAttribute("aria-label",a),s.setAttribute("aria-haspopup",!0),s.setAttribute("aria-controls",this.getMenuId()),s.setAttribute("aria-expanded",!!this.isMenuVisible()),t){var n=t.contentEl().querySelector(".vjs-tech");n.setAttribute("aria-label",a),n.setAttribute("aria-haspopup",!0),n.setAttribute("aria-controls",this.getMenuId()),n.setAttribute("aria-expanded",!!this.isMenuVisible())}if(i){var r=i.contentEl().querySelector(".vjs-tech");r.setAttribute("aria-label",a),r.setAttribute("aria-haspopup",!0),r.setAttribute("aria-controls",this.getMenuId()),r.setAttribute("aria-expanded",!!this.isMenuVisible())}},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},bindEvents:function(){var e=this,t=this.player,i=this.sharePlayer,s=this.attendeePlayer,a=t.contentEl().querySelector(".vjs-tech");if(t.tech().on("contextmenu",(function(i,s){i.preventDefault(),(t.isFullscreen()||e.activePlayer===t)&&e.showContextMenu(s||i)})),a.addEventListener("keydown",(function(i){(t.isFullscreen()||e.activePlayer===t)&&e.onKeyDown(i)})),i){var n=i.contentEl().querySelector(".vjs-tech");i.tech().on("contextmenu",(function(t,i){t.preventDefault(),e.showContextMenu(i||t)})),n.addEventListener("keydown",(function(t){e.onKeyDown(t)}))}if(s){var r=s.contentEl().querySelector(".vjs-tech");s.tech().on("contextmenu",(function(t,i){t.preventDefault(),e.showContextMenu(i||t)})),r.addEventListener("keydown",(function(t){e.onKeyDown(t)}))}var o=t.controlBar.contentEl();o.addEventListener("contextmenu",(function(e){e.preventDefault()}))},focusPlayerEl:function(){this.updateAriaAttr("tabindex",0)},showContextMenu:function(e){this.pos={x:e.offsetX,y:e.offsetY},this.$refs.contextMenu.show(),this.updateAriaAttr("aria-expanded",!0)},updateAriaAttr:function(e,t,i){var s=this.player,a=this.sharePlayer,n=this.attendeePlayer,r=s.contentEl().querySelector(".vjs-tech");if(r.setAttribute(e,t),!t&&i&&r.removeAttribute(e),a){var o=a.contentEl().querySelector(".vjs-tech");o.setAttribute(e,t),!t&&i&&o.removeAttribute(e)}if(n){var l=n.contentEl().querySelector(".vjs-tech");l.setAttribute(e,t),!t&&i&&l.removeAttribute(e)}},hideContextMenu:function(){this.$refs.contextMenu.hide(),this.updateAriaAttr("aria-expanded",!1)},onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;if(e.shiftKey&&121===t)this.showContextMenu(e);else switch(t){case i.enter:if(this.isMenuVisible()){var s=this.commands[this.hoverIndex];s&&(this.handleCommand(s),this.hideContextMenu())}e.preventDefault();break;case i.space:case i.tab:this.hideContextMenu();break;case i.esc:this.hideContextMenu(),e.preventDefault();break;case i.down:this.isMenuVisible()&&this.navigateOptions("next"),e.preventDefault();break;case i.up:this.isMenuVisible()&&this.navigateOptions("prev"),e.preventDefault();break;case i.home:this.isMenuVisible()&&this.navigateOptions("home"),e.preventDefault();break;case i.end:this.isMenuVisible()&&this.navigateOptions("end"),e.preventDefault();break}},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(e){this.player.trigger(e.action)}},watch:{activedescendant:function(e){this.updateAriaAttr("aria-activedescendant",e,!0)},activePlayer:function(){var e,t,i,s,a,n=this.player,r=this.sharePlayer,o=this.attendeePlayer,l=null===(e=n.contentEl())||void 0===e?void 0:e.querySelector(".vjs-tech");r&&(t=null===(s=r.contentEl())||void 0===s?void 0:s.querySelector(".vjs-tech"));o&&(i=null===(a=o.contentEl())||void 0===a?void 0:a.querySelector(".vjs-tech"));this.activePlayer===o?(i&&i.setAttribute("tabindex",0),t&&t.setAttribute("tabindex",-1),l&&l.setAttribute("tabindex",-1),document.activeElement===l&&i&&i.focus()):this.activePlayer===r?(t&&t.setAttribute("tabindex",0),l&&l.setAttribute("tabindex",-1),i&&i.setAttribute("tabindex",-1),document.activeElement===l&&t&&t.focus()):(l&&l.setAttribute("tabindex",0),t&&t.setAttribute("tabindex",-1),i&&i.setAttribute("tabindex",-1),document.activeElement===t&&l&&l.focus())}}},nt=(i("11fd"),i("f511")),rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("zm-dialog",{staticClass:"chapter-editor",attrs:{visible:e.visible,title:e.$t("edit_chapter"),width:"500px","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[i("zm-input",{attrs:{type:"textarea",autosize:"",maxlength:150},model:{value:e.section.content,callback:function(t){e.$set(e.section,"content",t)},expression:"section.content"}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("zm-button",{staticClass:"btn-delete",attrs:{type:"danger",loading:e.deleteLoading},on:{click:e.deleteSection}},[e._v(" "+e._s(e.$t("delete"))+" ")]),i("zm-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:!e.section.content||!e.section.content.trim()},on:{click:e.saveSection}},[e._v(" "+e._s(e.$t("save"))+" ")]),i("zm-button",{on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)},ot=[],lt={name:"chapter-editor",props:{sections:Array,section:Object},data:function(){return{visible:!1,saveLoading:!1,deleteLoading:!1}},methods:Object(n["a"])({show:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.originContent=e.section.content}))},hide:function(){this.visible=!1},deleteSection:function(){var e=this;this.sections.splice(this.sections.indexOf(this.section),1),this.deleteLoading=!0,this.updateChapterSections(this.sections).then((function(){e.deleteLoading=!1,e.$message.success(e.$t("remove_chapter_marker")),e.hide()})).catch((function(t){e.deleteLoading=!1,e.cancel(),e.$message.error(t.message)}))},saveSection:function(){var e=this;this.saveLoading=!0,this.updateChapterSections(this.sections).then((function(){e.saveLoading=!1,e.$message.success(e.$t("update_chapter_marker")),e.hide()})).catch((function(t){e.saveLoading=!1,e.cancel(),e.$message.error(t.message)}))},cancel:function(){this.section.content=this.originContent,this.hide()}},Object(p["b"])(["updateChapterSections"]))},ht=lt,ct=(i("0d09"),Object(S["a"])(ht,rt,ot,!1,null,"52f80e6b",null)),ut=ct.exports,dt={name:"vjs-chapter-marker",mixins:[m["a"],M,ze["a"]],components:{VjsContextMenu:et},props:{section:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px",commands:[{text:this.$t("edit_chapter"),action:"edit-chapter"},{text:this.$t("remove_chapter"),action:"remove-chapter"}],options:[]}},computed:Object(n["a"])(Object(n["a"])({duration:function(){return this.player.duration()},content:function(){return this.section.content},time:function(){return this.section.startTime-this.offsetStart},ariaLabel:function(){return this.content+","+Object(T["a"])(this.time)}},Object(p["e"])(["offsetStart","hasPermissionEdit","trimming"])),Object(p["c"])(["hasThumbnail","hasSmartChapters"])),provide:function(){return{menu:this}},render:function(){var e=arguments[0];return e("div",{class:"vjs-chapter-marker",style:this.getMarkerStyl(this.section),on:{mousemove:this.onMouseMove}},[e("span",{class:"vjs-chapter-marker-button",attrs:{role:"button","aria-haspopup":this.hasPermissionEdit,"aria-label":this.ariaLabel,"aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId(),tabIndex:0},on:{mouseenter:this.onMouseEnterNew,mouseleave:this.onMouseLeaveNew,contextmenu:this.onContextMenu,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.content,time:this.time,reference:"button"},ref:"popMarker"}),e("vjs-context-menu",{attrs:{placement:"bottom-start",offset:"0,10px",modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,reference:"button",commands:this.commands,"hover-index":this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})])},methods:{onMouseMove:function(e){(this.hasThumbnail||this.hasSmartChapters)&&e.target!==this.$refs.button&&(e.stopPropagation(),e.preventDefault())},onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),this.conditionShowContextMenu()},conditionShowContextMenu:function(){this.hasPermissionEdit&&!this.trimming&&(this.hidePopMarker(),this.showContextMenu())},getExpandState:function(){var e=this.$refs.contextMenu;return e?String(e.showPopper):"false"},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;if(e.shiftKey&&121===t)this.conditionShowContextMenu();else{switch(t){case i.enter:if(this.isMenuVisible()){var s=this.commands[this.hoverIndex];s&&(this.$emit("command",s.action,this.section),this.hideContextMenu())}else this.changeToCurrent();e.preventDefault();break;case i.space:this.isMenuVisible()||this.changeToCurrent(),e.preventDefault();break;case i.tab:this.hidePopMarker(),this.hideContextMenu();break;case i.esc:this.hidePopMarker(),this.hideContextMenu(),e.preventDefault();break;case i.down:this.isMenuVisible()&&this.navigateOptions("next"),e.preventDefault();break;case i.up:this.isMenuVisible()&&this.navigateOptions("prev"),e.preventDefault();break;case i.home:this.isMenuVisible()&&this.navigateOptions("home"),e.preventDefault();break;case i.end:this.isMenuVisible()&&this.navigateOptions("end"),e.preventDefault();break}e.stopPropagation()}},changeToCurrent:function(){Object(T["b"])("Position moved to Chapter Marker "+Object(T["a"])(this.time)),this.player.realCurrentTime(this.section.startTime)},showContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.show()},hideContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.hide()},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(e){this.$emit("command",e.action,this.section)}}},pt=window.Vue,mt=u["default"].getPlugin("plugin"),ft=24,gt=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;return Object(r["a"])(this,i),a=t.call(this,e,s),a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.createMarker(e),a}return Object(o["a"])(i,[{key:"createMarker",value:function(e){var t=this.sharePlayer,i=this.attendeePlayer;Object(O["a"])().then((function(s){var a=new pt({i18n:s,store:d["a"],render:function(s){return s(vt,{props:{player:e,sharePlayer:t,attendeePlayer:i}})}});a.$mount(),e.controlBar.progressControl.contentEl().appendChild(a.$el)}))}}]),i}(mt);u["default"].registerPlugin("chapterMarker",gt);var vt={mixins:[j["a"]],components:{ChapterEditor:ut,VjsChapterMarker:dt},data:function(){return{editSection:{}}},computed:Object(n["a"])({duration:function(){return this.player.duration()},clonedSections:function(){return Object(nt["a"])(this.chapterSections)}},Object(p["e"])(["offsetStart","chapterSections"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-chapter-markers-bar"},[this.renderMakers(),e("div",[e("chapter-editor",{attrs:{section:this.editSection,sections:this.clonedSections},ref:"editor"})])])},mounted:function(){this.player.on("add-chapter",this.addChapter)},methods:Object(n["a"])({renderMakers:function(){var e=this,t=this.$createElement;return this.clonedSections.filter((function(t){var i=t.startTime-e.offsetStart;return!(i<0||i>e.duration)})).map((function(i,s){return t("vjs-chapter-marker",{attrs:{section:i,player:e.player,"active-player":e.activePlayer},key:i.startTime+"/"+s,on:{command:e.handleCommand}})}))},handleCommand:function(e,t){"edit-chapter"===e?(this.editSection=t,this.exitFullscreen(),this.$refs.editor.show()):"remove-chapter"===e&&this.removeChapter(t)},exitFullscreen:function(){var e=this.player,t=this.sharePlayer,i=this.attendeePlayer;e.isFullscreen()?e.exitFullscreen():t&&t.isFullscreen()?t.exitFullscreen():i&&i.isFullscreen()&&i.exitFullscreen()},removeChapter:function(e){var t=this;this.clonedSections.splice(this.clonedSections.indexOf(e),1),this.updateChapterSections(this.clonedSections).then((function(){t.$message.success(t.$t("remove_chapter_marker"))})).catch((function(e){t.$message.error(e.message)}))},addChapter:function(){var e=this,t=this.clonedSections.length;if(t>=ft)return this.exitFullscreen(),void this.$message.warning(this.$t("add_tips"));var i=this.$t("auto_title",[t+1]),s=1*this.player.realCurrentTime().toFixed(3);this.clonedSections.push({content:i,startTime:s}),this.updateChapterSections(this.clonedSections).then((function(){e.$message.success(e.$t("add_chapter_marker")),Object(T["b"])("Chapter Marker added at "+Object(w["e"])(e.player.currentTime()))})).catch((function(t){e.$message.error(t.message)}))}},Object(p["b"])(["updateChapterSections"]))},yt=(i("a9ee"),i("72c2"),i("6661"),i("ef2d"),i("ef84"),i("868d"),{name:"vjs-polling-marker",mixins:[m["a"],M],props:{poll:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:Object(n["a"])({duration:function(){return this.player.duration()},content:function(){return this.poll.name},time:function(){return this.poll.shareTimeInRecording-this.offsetStart},ariaLabel:function(){return"Poll Result "+this.content+","+Object(T["a"])(this.time)}},Object(p["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-polling-marker",style:this.getMarkerStyl(this.poll)},[e("span",{class:"vjs-polling-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnterNew,mouseleave:this.onMouseLeaveNew,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.content,time:this.time,reference:"button"},ref:"popMarker"})])},methods:{onMouseDown:function(e){this.handleManual(),e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;t===i.enter||t===i.space?(this.handleManual(),e.preventDefault()):t!==i.tab&&t!==i.esc||(this.hidePopMarker(),t===i.esc&&e.preventDefault()),e.stopPropagation()},handleManual:function(){this.$emit("manual",this.poll)}}}),wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.poll?i("zm-dialog",{staticClass:"poll-dialog",attrs:{title:e.poll.name,visible:e.visible,"append-to-body":"",width:"560px","aria-describedby":"pollsDesc"},on:{"update:visible":function(t){e.visible=t}}},[i("zm-scrollbar",{ref:"scrollbar",staticStyle:{height:"350px"},attrs:{"wrap-style":"overflow-x:hidden;"}},[i("div",{staticClass:"polling-question",attrs:{id:"pollsDesc"}},e._l(e.poll.questions,(function(t,s){return i("poll-question-item",{key:t.questionId,attrs:{question:t,index:s,advance:e.advance}})})),1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("zm-button",{attrs:{plain:""},on:{click:e.hide}},[e._v(" "+e._s(this.$t("close"))+" ")])],1)],1):e._e()},bt=[],Pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"poll-question-item"},[i("h4",{staticClass:"title"},[i("span",[e._v(e._s(e.questionIndex))]),i("span",{staticClass:"polling-question-title mgr-xs"},[e._v(" "+e._s(e.questionTitle)+" ")]),i("span",{staticClass:"question-type"},[e._v(" "+e._s(e.questionType)+" ")])]),e.advance?i("div",{staticClass:"advance"},[e.showProgress?i("zm-progress",{staticClass:"mgt-md mgb-sm answer-percent-progress",attrs:{color:e.color,percentage:e.answerPercentage,"show-text":!1}}):e._e(),i("p",{staticClass:"answer-percent"},[e._v(" "+e._s(e.answeredPercent)+" ")]),e._l(e.possibleAnswers,(function(t,s){return i("poll-option-item-new",{key:t.id,attrs:{option:t,index:s,advance:e.matchingOrRankOrder,isMatching:e.isMatching,isRatingScale:e.isRatingScale,matchingOrRankOrderAnswer:e.matchingOrRankOrderAnswer}})})),e.matchingOrRankOrder?i("div",{staticClass:"possible-answer-container"},e._l(e.matchingOrRankOrderAnswer,(function(t,s){return i("div",{key:t.id,staticClass:"possible-answer-item mgr-md"},[i("span",{staticClass:"mgr-xs circle",style:e.getCircleStyle(s)}),e._v(" "+e._s(t.value)+" ")])})),0):e._e(),e.rightAnswers?i("div",{staticClass:"correct-answer-container mgt-md"},[e.matchingOrRankOrder?i("div",[i("div",[e._v(e._s(e.$t("correct_answer")))]),e._l(e.rightAnswers,(function(t,s){return i("div",{key:t.id},[e._v(" "+e._s(e.rightItem(t,s))+" ")])}))],2):i("div",[1===e.rightAnswers.length?i("div",[i("span",{staticClass:"mgr-xs"},[e._v(e._s(e.$t("correct_answer_is")))]),i("span",{staticClass:"is-bold answer"},[e._v(e._s(e.correctAnswer))])]):i("div",[i("span",{staticClass:"mgr-xs"},[e._v(e._s(e.$t("correct_answer")))]),e._v(" "+e._s(e.correctAnswer)+" ")])])]):e._e()],2):e._l(e.question.optionsList,(function(e){return i("poll-option-item",{key:e.optionId,attrs:{option:e}})}))],2)},St=[],Ct=(i("d331b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"option-container"},[i("div",{staticClass:"option-des"},[i("span",{staticClass:"option-value"},[e._v(e._s(e.option.option))]),i("span",{staticClass:"option-statistics"},[e._v(e._s(e.optionStatistics))])]),i("zm-progress",{attrs:{color:e.color,percentage:e.optionPercentage,"show-text":!1}})],1)}),xt=[],Mt={name:"poll-option-item",props:{option:Object},computed:{optionStatistics:function(){return"".concat(this.option.votePercent,"%")},optionPercentage:function(){return parseInt(this.option.votePercent)},color:function(){return"100"===this.option.votePercent?"#00A832":"#0E72ED"}}},kt=Mt,Tt=(i("21f9"),Object(S["a"])(kt,Ct,xt,!1,null,"88cf9fbc",null)),_t=Tt.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"option-container",class:{"is-active":e.isActive},on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[e.isRatingScale?[i("div",{staticClass:"option-des rating-scale"},[i("span",{staticClass:"option-str"},[e._v(e._s(e.optionStr))]),i("zm-progress",{staticClass:"flex-one",attrs:{color:e.color,percentage:e.optionPercentage}})],1)]:[i("div",{staticClass:"option-des"},[i("span",{staticClass:"option-value"},[e._v(e._s(e.optionStr))]),i("span",{staticClass:"option-statistics"},[e._v(e._s(e.optionStatistics))])]),e.advance?i("div",{staticClass:"advance-progress"},[i("div",{staticClass:"zm-progress zm-progress--line zm-progress--without-text",attrs:{role:"progressbar","aria-valuenow":e.optionPercentage,"aria-valuemin":"0","aria-valuemax":"100"}},[i("div",{staticClass:"zm-progress-bar"},[i("div",{staticClass:"zm-progress-bar__outer",staticStyle:{height:"6px"}},e._l(e.validAnswerResult,(function(t){return i("div",{key:t.id,staticClass:"zm-progress-bar__inner",style:e.getProgressStyle(t)})})),0)])])]):i("zm-progress",{attrs:{color:e.color,percentage:e.optionPercentage,"show-text":!1}})],e.advance?i("div",{staticClass:"rec-tooltip",style:{bottom:e.bottom+"px"}},[i("div",{staticClass:"answer-desc mgb-xs"},[e._v(e._s(e.option.value))]),e._l(e.option.answerResults,(function(t){return i("div",{key:t.id,staticClass:"answer-item"},[i("div",{staticClass:"flex-one text"},[i("span",{staticClass:"mgr-xs circle",style:e.getCircleStyle(t)}),e._v(" "+e._s(t.value)+" ")]),i("div",{staticClass:"percent"},[e._v(e._s(e.answerStr(t.votePercent)))])])}))],2):e._e()],2)},Ot=[],Lt={name:"poll-option-item-new",props:{option:Object,advance:Boolean,isMatching:Boolean,isRatingScale:Boolean,index:Number,matchingOrRankOrderAnswer:Array},data:function(){return{isActive:!1,bottom:0}},computed:{optionStr:function(){var e=this.option,t=this.isRatingScale?e.id:e.value,i=L["m"][this.index]+". "+t;return this.isMatching?i:t},optionStatistics:function(){return"".concat(this.option.votePercent,"%")},optionPercentage:function(){return parseInt(this.option.votePercent)},color:function(){return"100"===this.option.votePercent?"#00A832":"#0E72ED"},validAnswerResult:function(){return this.option.answerResults&&this.option.answerResults.filter((function(e){return"0"!==e.votePercent}))}},methods:{getProgressStyle:function(e){var t=e.votePercent+"%",i=this.getIndexById(this.matchingOrRankOrderAnswer,e.id),s=L["i"][i];return{width:t,backgroundColor:s}},getIndexById:function(e,t){for(var i,s=e.length,a=0;a<s;a++)if(t===e[a].id){i=a;break}return i},getCircleStyle:function(e){var t=this.getIndexById(this.matchingOrRankOrderAnswer,e.id),i=L["i"][t];return{color:i,borderColor:i}},answerStr:function(e){return"".concat(e,"%")},onMouseEnter:function(e){var t=e.target.getBoundingClientRect();this.bottom=document.documentElement.clientHeight-(t.top+10),this.isActive=!0,e.stopPropagation(),e.preventDefault()},onMouseLeave:function(e){this.isActive=!1,e.stopPropagation(),e.preventDefault()}}},At=Lt,$t=(i("1107"),Object(S["a"])(At,jt,Ot,!1,null,"798e82e8",null)),It=$t.exports,Et={name:"poll-question-item",components:{PollOptionItem:_t,PollOptionItemNew:It},props:{question:Object,index:Number,advance:Boolean},computed:{questionIndex:function(){return"".concat(this.index+1,".")},questionTitle:function(){return this.question.name},questionType:function(){var e=this.question.type,t="";switch(e){case L["t"].singleChoice:t=this.$t("single_choice");break;case L["t"].multipleChoice:t=this.$t("multiple_choice");break;case L["t"].matching:t=this.$t("matching");break;case L["t"].rankOrder:t=this.$t("rank_order");break;case L["t"].shortAnswer:t=this.$t("short_answer");break;case L["t"].longAnswer:t=this.$t("long_answer");break;case L["t"].blank:t=this.$t("blank");break;case L["t"].ratingScale:t=this.$t("rating_scale");break}return"(".concat(t,")")},showProgress:function(){var e=this.question.type;return e===L["t"].shortAnswer||e===L["t"].longAnswer||e===L["t"].blank},rightAnswers:function(){var e=this.question.pollingQuestionOptions;return e&&e.rightAnswers},answerPercentage:function(){return parseInt(this.question.answerPercent)},color:function(){return"100"===this.question.answerPercent?"#00A832":"#0E72ED"},answeredPercent:function(){var e=this.question.answerPercent+"%";return this.rightAnswers?this.$t("answered_correct",{percent:e}):this.$t("answered",{percent:e})},possibleAnswers:function(){var e=this.question.pollingQuestionOptions,t=this.question.type,i=[];switch(t){case L["t"].singleChoice:case L["t"].multipleChoice:i=e&&e.possibleAnswers;break;case L["t"].matching:case L["t"].rankOrder:i=e&&e.prompts;break;case L["t"].ratingScale:i=JSON.parse(JSON.stringify(e&&e.possibleAnswers)),i.reverse();break}return i},matchingOrRankOrder:function(){var e=this.question.type;return e===L["t"].matching||e===L["t"].rankOrder},matchingOrRankOrderAnswer:function(){var e=this.question.pollingQuestionOptions;return e&&e.possibleAnswers},isMatching:function(){var e=this.question.type;return e===L["t"].matching},isRatingScale:function(){var e=this.question.type;return e===L["t"].ratingScale},correctAnswer:function(){var e=this.rightAnswers||[],t=[];return e.forEach((function(e){t.push(e.value)})),t.join(", ")}},methods:{getCircleStyle:function(e){var t=L["i"][e];return{color:t,borderColor:t}},rightItem:function(e,t){var i=this.isMatching?L["m"][t]:this.$t("row",{index:t+1});return i+": "+e.value}}},Wt=Et,Vt=(i("487e"),Object(S["a"])(Wt,Pt,St,!1,null,"31f62396",null)),Dt=Vt.exports,Ht={name:"poll-dialog",components:{PollQuestionItem:Dt},data:function(){return{visible:!1,poll:null}},computed:{advance:function(){return!!this.poll.recordingSupportAdvance}},methods:{show:function(e){this.poll!==e&&(this.poll=e),this.visible=!0},hide:function(){this.visible=!1}}},Bt=Ht,Rt=Object(S["a"])(Bt,wt,bt,!1,null,null,null),Nt=Rt.exports,Ut=window.Vue,zt=u["default"].getPlugin("plugin"),Ft=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;Object(r["a"])(this,i),a=t.call(this,e,s);var n=d["a"].getters.hasPoll;return n?(a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.getAndCreateMarker(e),a):Object(l["a"])(a)}return Object(o["a"])(i,[{key:"getAndCreateMarker",value:function(e){var t=d["a"].state.polls;this.createMarker(t,e),this.createPollingControlComp(t,e)}},{key:"createMarker",value:function(e,t){var i=this.sharePlayer,s=this.attendeePlayer;Object(O["a"])().then((function(a){var n=new Ut({i18n:a,store:d["a"],render:function(a){return a(qt,{props:{player:t,sharePlayer:i,attendeePlayer:s,polls:e}})}});n.$mount(),t.controlBar.progressControl.contentEl().appendChild(n.$el)}))}},{key:"createPollingControlComp",value:function(e,t){var i=this,s=this.sharePlayer,a=this.attendeePlayer;Object(O["a"])().then((function(n){var r=new Ut({store:d["a"],i18n:n,render:function(i){return i(Kt,{props:{player:t,sharePlayer:s,attendeePlayer:a,polls:e}})}});r.$mount(),t.speed().insertAfter(r.$el),i.comp=r}))}},{key:"insertAfter",value:function(e){var t=this.comp.$el,i=t.parentNode;i.lastChild===t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}}]),i}(zt);u["default"].registerPlugin("pollResult",Ft);var qt={mixins:[j["a"]],components:{VjsPollingMarker:yt,pollDialog:Nt},props:{polls:{type:Array,default:function(){return[]}}},data:function(){return{currentTime:0}},computed:Object(n["a"])({duration:function(){return this.player.duration()},filterPolls:function(){var e=this;return this.polls.filter((function(t){var i=t.shareTimeInRecording-e.offsetStart;return!(i<=0||i>e.duration)}))}},Object(p["e"])(["offsetStart","pollShow","editR"])),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.pollShow}],class:"vjs-polling-markers-bar"},[this.renderMakers(),e("div",[e("poll-dialog",{ref:"pollDialog"})])])},mounted:function(){var e=this;this.player.on("timeupdate",(function(){var t=parseInt(e.player.currentTime());e.currentTime!==t&&(e.currentTime=t)}))},methods:{renderMakers:function(){var e=this,t=this.$createElement;return this.filterPolls.map((function(i,s){return t("vjs-polling-marker",{attrs:{poll:i,player:e.player,"active-player":e.activePlayer},key:i.shareTimeInRecording+"/"+s,on:{manual:e.handleManual}})}))},handleManual:function(e){var t=this.player;!t.paused()&&t.pause(),this.showPollDialog(e)},showPollDialog:function(e){this.$refs.pollDialog.show(e)}},watch:{currentTime:function(e){var t=this;if(this.pollShow&&!this.player.paused()&&!this.editR){var i=this.filterPolls.find((function(i){return e+t.offsetStart===i.shareTimeInRecording}));i&&this.showPollDialog(i)}}}},Kt={mixins:[j["a"],J["a"],m["a"]],props:{polls:{type:Array,default:function(){return[]}}},computed:Object(n["a"])({iconCls:function(){return this.pollShow?"zm-icon-hide-poll":"zm-icon-show-poll"},controlText:function(){return this.pollShow?"Hide Poll Result":"Show Poll Result"},duration:function(){return this.player.duration()},pollShowBtn:function(){var e=this;return this.polls.filter((function(t){var i=t.shareTimeInRecording-e.offsetStart;return!(i<=0||i>e.duration)})).length}},Object(p["e"])(["offsetStart","pollShow"])),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.pollShowBtn}],class:"vjs-polling-control"},[e("button",{class:"vjs-polling-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[e("i",{attrs:{"arial-hidden":"true"},class:this.iconCls})]),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},methods:Object(n["a"])({onControlClick:function(){this.pollShow?this.setPollShow(!1):this.setPollShow(!0)},getTitle:function(){return this.pollShow?this.$t("hide_poll"):this.$t("show_poll")}},Object(p["d"])({setPollShow:"SET_POLL_SHOW"}))},Gt={name:"vjs-highlight-bar",props:{highlight:Object,player:Object},data:function(){return{offset:"0, 11px"}},computed:Object(n["a"])({duration:function(){return this.player.duration()}},Object(p["e"])(["offsetStart","realCurrT"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-highlight-bar",style:this.getMarkerStyl(this.highlight)},[e("div",{class:"vjs-highlight-progress",style:this.getProgressStyl(this.highlight)})])},methods:{getMarkerStyl:function(e){var t=e.startTimeMs,i=e.endTimeMs,s=1e3*this.duration,a=1e3*this.offsetStart,n=parseInt((t-a)/s*1e4)/100,r=parseInt((i-t)/s*1e4)/100;return{width:r+"%",left:n+"%"}},getProgressStyl:function(e){var t=e.startTimeMs,i=e.endTimeMs,s=1e3*this.realCurrT,a=0;if(s>=i)a=100;else if(s<=t)a=0;else{var n=i-t;a=parseInt((s-t)/n*1e4)/100}return{width:a+"%"}}}},Jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.wrapperCls},[e.hasHighlight?[i("div",{staticClass:"left"},[i("label",{attrs:{id:"play_highlights_label"}},[e._v(e._s(e.$t("play_highlights_new")))]),i("zm-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.highlightTips)},slot:"content"}),i("i",{staticClass:"zm-icon-info-outline mgl-xs mgr-sm",attrs:{role:"button","aria-label":"Learn More about Recording Highlights"}})]),i("zm-switch",{attrs:{disabled:e.edit,"label-by":"play_highlights_label","label-text":"Only play highlights is "+(e.mode?"Turned On":"Turned Off")},on:{change:e.changePlayMode},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),e.allowEdit?i("div",{staticClass:"right"},[e.isIpad?e._e():i("edit-highlights",{attrs:{player:e.player,edit:e.edit,trimming:e.trimming},on:{"show-setting":e.showHighlightsSettingComp}}),i("save-highlight-as",{attrs:{edit:e.edit,trimming:e.trimming}})],1):e._e()]:e.allowEdit&&!e.isIpad?[e.hasTranscript?i("div",{staticClass:"desc"},[i("span",[e._v(e._s(e.$t("no_highlights_desc1")))]),i("span",{staticClass:"mgl-xs"},[e._v(e._s(e.$t("add_highlights")))]),e.trimming?i("zm-tooltip",{attrs:{placement:"top",content:e.unableTrimTips}},[i("button",{attrs:{type:"button"}},[e._v(" "+e._s(e.$t("no_highlights_here"))+" ")])]):i("button",{attrs:{type:"button"},on:{click:e.showHighlightsSettingComp}},[e._v(e._s(e.$t("no_highlights_here")))]),e._v(" "+e._s(e.$t("no_highlights_or"))+" "),i("span",{domProps:{innerHTML:e._s(e.highlightsDesc2)}})],1):i("div",{staticClass:"desc"},[e._v(e._s(e.$t("no_highlights_desc1")))]),i("zm-tooltip",{attrs:{placement:"top"}},[i("div",{staticClass:"highlight-tips",attrs:{slot:"content"},domProps:{innerHTML:e._s(e.highlightTips)},slot:"content"}),i("i",{staticClass:"zm-icon-info-outline mgl-xs mgr-sm",attrs:{role:"button","aria-label":"Learn More about Recording Highlights"}})]),e.hasTranscript?e._e():[e.trimming?i("zm-tooltip",{attrs:{placement:"top",content:e.unableTrimTips}},[i("button",{attrs:{type:"button"}},[e._v(e._s(e.$t("add_highlights")))])]):i("button",{attrs:{type:"button"},on:{click:e.showHighlightsSettingComp}},[e._v(e._s(e.$t("add_highlights")))])]]:e._e()],2)},Xt=[],Zt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"save-highlights-as"},[i("i",{staticClass:"zm-icon-save-new-clip",attrs:{"arial-hidden":"true"}}),e.trimming?i("zm-tooltip",{attrs:{placement:"top",content:e.unableTrimTips}},[i("button",{staticClass:"btn-original",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("save_as_new_clip"))+" ")])]):[i("button",{staticClass:"btn-original",attrs:{type:"button"},on:{click:e.showDialog}},[e._v(" "+e._s(e.$t("save_as_new_clip"))+" ")])],i("zm-dialog",{staticClass:"highlights-dialog",attrs:{visible:e.visible,title:e.dialogTitle,width:"500px","append-to-body":"","aria-describedby":"highlights-desc"},on:{"update:visible":function(t){e.visible=t},open:e.dialogOpen}},[i("div",{attrs:{id:"highlights-desc"}},[e.showSuccessTips?i("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.highlightsDesc2)}}):[i("div",{staticClass:"desc"},[e._v(e._s(e.$t("highlights_d_desc")))]),i("div",{attrs:{id:"name-clip"}},[e._v(e._s(e.$t("name_clip")))]),i("zm-input",{attrs:{"label-by":"name-clip",name:"clipName",maxlength:200},model:{value:e.clipName,callback:function(t){e.clipName=t},expression:"clipName"}})]],2),i("div",{attrs:{slot:"footer"},slot:"footer"},[e.showSuccessTips?i("zm-button",{attrs:{plain:""},on:{click:e.closeDialog}},[e._v(" "+e._s(e.$t("btn_ok"))+" ")]):[i("zm-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:!e.clipName.trim()},on:{click:e.saveHighlightsAs}},[e._v(" "+e._s(e.$t("save_now"))+" ")]),i("zm-button",{attrs:{plain:""},on:{click:e.closeDialog}},[e._v(" "+e._s(e.$t("cancel"))+" ")])]],2)])],2)},Yt=[],Qt=i("365c"),ei={name:"save-highlights-as",props:{edit:Boolean,trimming:Boolean},data:function(){return{visible:!1,dialogTitle:"",saveLoading:!1,clipName:"",showSuccessTips:!1}},computed:Object(n["a"])(Object(n["a"])({highlightsDesc2:function(){var e=this.isRecordingHostSelf?"/recording/detail?meeting_id=".concat(this.meetingId):"/recording/management/detail?meeting_id=".concat(this.meetingId);return this.$t("highlights_d_desc2",[e])},unableTrimTips:function(){return this.$t("trimming_unable_edit")}},Object(p["e"])(["topic","isRecordingHostSelf","meetingId","shareVideoId","recordingId","tranLocalJsonFileId"])),Object(p["c"])(["computedHighlights","videoId"])),methods:{saveHighlightsAs:function(){var e=this;this.saveLoading=!0;var t=this.clipName,i=this.computedHighlights,s=[];i.forEach((function(e){var t={startTime:e.startStr,endTime:e.endStr};s.push(t)})),Object(Qt["l"])({clipName:t,recordId:this.videoId,tranLocalJsonFileId:this.tranLocalJsonFileId,tranWebVttFileId:this.tranWebVttFileId,ranges:JSON.stringify(s)}).then((function(){e.saveLoading=!1,e.dialogTitle=e.$t("highlights_d_title2"),e.showSuccessTips=!0})).catch((function(t){e.saveLoading=!1,e.$message.error(t.message)})),Object(Qt["m"])({html_object_id:"recordingExportHighlights",html_object_category:"Recording",html_class:""}).catch((function(){}))},showDialog:function(){this.edit||(this.visible=!0)},closeDialog:function(){this.visible=!1},dialogOpen:function(){this.saveLoading=!1,this.dialogTitle=this.$t("highlights_d_title"),this.clipName="".concat(this.topic," highlights"),this.checked=!0,this.showSuccessTips=!1}}},ti=ei,ii=(i("bf7c"),Object(S["a"])(ti,Zt,Yt,!1,null,"da18e480",null)),si=ii.exports,ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"edit-highlights"},[i("i",{staticClass:"zm-icon-edit"}),e.trimming?i("zm-tooltip",{attrs:{placement:"top",content:e.unableTrimTips}},[i("button",{staticClass:"btn-original",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("edit_highlights"))+" ")])]):i("button",{staticClass:"btn-original",attrs:{type:"button"},on:{click:e.showHighlightsSettingComp}},[e._v(" "+e._s(e.$t("edit_highlights"))+" ")])],1)},ni=[],ri={name:"edit-highlights",props:{player:Object,edit:Boolean,trimming:Boolean},methods:{showHighlightsSettingComp:function(){this.edit||this.$emit("show-setting")}},computed:{unableTrimTips:function(){return this.$t("trimming_unable_edit")}}},oi=ri,li=(i("5af6"),Object(S["a"])(oi,ai,ni,!1,null,"676571f6",null)),hi=li.exports,ci=i("0a1f"),ui=i("76ac"),di={name:"highlights-control-bar",props:{player:Object},data:function(){return{mode:!1,highlightTips:this.$t("highlight_help"),highlightsDesc2:this.$t("no_highlights_desc2")}},components:{SaveHighlightAs:si,EditHighlights:hi},computed:Object(n["a"])(Object(n["a"])({isIpad:function(){return ci["e"]},hasHighlight:function(){var e=this.highlights;return e&&e.length},allowEdit:function(){return this.hasPermissionEdit},edit:function(){return this.editHL||this.editR},wrapperCls:function(){var e=[],t=this.hasHighlight?"highlights-control-wrapper":this.allowEdit&&!this.isIpad?"highlights-notice-wrapper":"highlights-wrapper";return e.push(t),this.edit&&e.push("disabled"),this.trimming&&e.push("trimming"),e},unableTrimTips:function(){return this.$t("trimming_unable_edit")}},Object(p["e"])(["highlightsMode","hasPermissionEdit","editHL","trimming","editR"])),Object(p["c"])({highlights:"computedHighlights",hasTranscript:"hasTranscript"})),methods:Object(n["a"])({changePlayMode:function(){this.mode?(this.setHighlightsMode(!0),this.playHighlights()):this.setHighlightsMode(!1)},playHighlights:function(){var e=this.player,t=this.highlights[0].startTime;e.pause(),e.realCurrentTime(t),Object(Qt["m"])({html_object_id:"recordingPlayerHighlightMode",html_object_category:"Recording",html_class:""}).catch((function(){}))},showHighlightsSettingComp:function(){if(!this.edit){var e=this.player,t=e.highlights().highlightsSettingComp;t.show(),t.setEditHLStatus(!0),window.addEventListener("keydown",i),this.$nextTick((function(){var s=new ui["a"](t.$el,document.activeElement);t.$once("hide",(function(){window.removeEventListener("keydown",i),s.closeDialog()})),e.pause(),e.controlBar.hide()}))}function i(e){var i=e.keyCode,s=k["a"].keys;i===s.esc&&(t.hide(),e.preventDefault())}}},Object(p["d"])({setHighlightsMode:"SET_HIGHLIGHTS_MODE"})),mounted:function(){this.mode=this.highlightsMode}},pi=di,mi=(i("42a8"),Object(S["a"])(pi,Jt,Xt,!1,null,"4392dc34",null)),fi=mi.exports,gi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vjs-highlights-setting-mask"},[i("div",{staticClass:"vjs-highlights-setting"},[i("div",{staticClass:"header"},[i("button",{staticClass:"vjs-play-button",attrs:{"aria-label":e.controlText},on:{click:e.togglePlay}},[i("i",{class:e.btnCls,attrs:{"arial-hidden":"true"}})])]),i("div",{ref:"content",staticClass:"center",class:{"show-tips":e.showAddTips},attrs:{tabindex:"0","aria-label":e.ariaLabel},on:{mousemove:function(t){e.onMouseMove(t)},mouseleave:e.onMouseLeave,click:e.onClick,keydown:e.onKeyDown}},[e.showAddTips?i("div",{staticClass:"add-tips"},[e._v(" "+e._s(e.$t("no_highlights_tips"))+" ")]):[e.showAddBox?i("div",{directives:[{name:"focus",rawName:"v-focus"}],ref:"add",staticClass:"add-box",style:e.addBoxStyl,attrs:{role:"slider",tabindex:e.tabIndex,"aria-label":"Add New Highlight","aria-describedby":"addAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.addVal,"aria-valuetext":e.addTime},on:{keydown:e.onAddKeyDown}},[i("div",{staticClass:"vjs-tooltip",attrs:{role:"tooltip","aria-label":e.addTip}},[i("span",{staticClass:"title"},[e._v(" "+e._s(e.addTip)+" ")])])]):e._e(),e._l(e.computedHL,(function(t,s){return i("highlight-segment",{key:t.startTimeMs+"/"+s,ref:"seg",refInFor:!0,attrs:{highlight:t,player:e.player,index:s,"tab-index":e.tabIndex},on:{"on-move":e.updateAddBoxStatus,"update-tab-status":e.updateTabStatus}})})),i("div",{staticClass:"sr-only",attrs:{id:"addAriaDes"}},[e._v(e._s(e.addAriaDes))]),i("div",{staticClass:"sr-only",attrs:{id:"startAriaDes"}},[e._v(e._s(e.startAriaDes))]),i("div",{staticClass:"sr-only",attrs:{id:"endAriaDes"}},[e._v(e._s(e.endAriaDes))])]],2),i("div",{staticClass:"footer vjs-highlights-actions"},[i("zm-button",{staticClass:"save-button",attrs:{type:"primary",size:"small",loading:e.saving},on:{click:e.save}},[e._v(" "+e._s(e.$t("done"))+" ")]),i("zm-button",{staticClass:"mgl-xs",attrs:{size:"small"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)])])},vi=[],yi=(i("d86f"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"segment",staticClass:"highlight-segment",class:{"is-active":e.isActive,"is-drag":e.isDrag,"is-start":e.isDragStart,"is-end":e.isDragEnd,"show-curr":e.showCurrT},style:e.getSegmentStyl,attrs:{tabindex:"-1"},on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave,click:function(t){e.changeToCurrent(t)},mousemove:function(t){e.handleMouseMove(t)}}},[i("span",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"prev dot",attrs:{role:"slider","aria-label":e.startAriaLabel,"aria-describedby":"startAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.start,"aria-valuetext":e.startTime,tabindex:e.tabIndex},on:{mousedown:function(t){e.onMouseDown(t,!0)},keydown:e.onStartKeyDown,focus:e.onStartFocus}}),i("span",{staticClass:"next dot",attrs:{role:"slider","aria-label":e.endAriaLabel,"aria-describedby":"endAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.end,"aria-valuetext":e.endTime,tabindex:e.tabIndex},on:{mousedown:function(t){e.onMouseDown(t,!1)},keydown:e.onEndKeyDown,focus:e.onEndFocus}}),i("div",{staticClass:"remove"},[i("ul",[i("li",{staticClass:"item",attrs:{role:"button",tabindex:e.tabIndex,"aria-label":e.removeAriaLabel},on:{click:function(t){e.handleRemove(t)},keydown:e.onRemoveKeyDown}},[e._v(" "+e._s(e.$t("remove"))+" ")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrayLine,expression:"showGrayLine"}],staticClass:"gray-line",style:e.getGrayLineStyl}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRedLine,expression:"showRedLine"}],staticClass:"curr-pos",style:e.getCurrPos}),i("span",{staticClass:"start rec-tooltip"},[e._v(e._s(e.startTime))]),i("span",{staticClass:"end rec-tooltip"},[e._v(e._s(e.endTime))]),i("span",{staticClass:"current-time rec-tooltip",style:e.currStyl},[e._v(e._s(e.currTime))])])}),wi=[],bi={name:"highlight-segment",props:{player:Object,highlight:Object,index:Number,tabIndex:Number},data:function(){return{grayLinePos:0,mouseover:!1,currTime:"00:00:00",showCurrT:!1,currStyl:{}}},directives:{focus:{inserted:function(e,t,i){var s=i.context,a=s.$store.state;s.isActive&&!a.isDrag&&a.isDragStart&&Object(He["b"])(e,"prev")&&e.focus()}}},computed:Object(n["a"])(Object(n["a"])({oIndex:function(){return this.highlight.index},isActive:function(){return this.activeIndex===this.oIndex},duration:function(){return this.player.duration()},showRedLine:function(){var e=this.highlight,t=e.startTimeMs,i=e.endTimeMs,s=1e3*this.realCurrT;return s>=t&&s<=i},showGrayLine:function(){return!this.isDrag&&this.mouseover},getSegmentStyl:function(){var e=this.highlight,t=e.startTimeMs,i=e.endTimeMs,s=1e3*this.duration,a=1e3*this.offsetStart,n=parseInt((t-a)/s*1e4)/100,r=parseInt((i-t)/s*1e4)/100;return{width:r+"%",left:n+"%"}},getCurrPos:function(){var e=this.highlight,t=e.startTimeMs,i=e.endTimeMs,s=1e3*this.realCurrT,a=parseInt((s-t)/(i-t)*1e4)/100;return{left:a+"%"}},startTime:function(){var e=this.highlight,t=1e3*this.offsetStart,i=((e.startTimeMs-t)/1e3).toFixed(3);return Object(w["e"])(i)},endTime:function(){var e=this.highlight,t=1e3*this.offsetStart,i=((e.endTimeMs-t)/1e3).toFixed(3);return Object(w["e"])(i)},getGrayLineStyl:function(){return{left:this.grayLinePos+"px"}},removeAriaLabel:function(){var e=this.index+1;return"Remove highlight ".concat(e)},startAriaLabel:function(){var e=this.index+1;return"Highlight ".concat(e," start")},endAriaLabel:function(){var e=this.index+1;return"Highlight ".concat(e," end")},max:function(){var e=this.duration;return parseInt(e)},start:function(){var e=this.highlight.startTime,t=this.offsetStart;return parseInt(e-t)},end:function(){var e=this.highlight.endTime,t=this.offsetStart;return parseInt(e-t)}},Object(p["e"])(["offsetStart","highlights","realCurrT","isDrag","isDragStart","isDragEnd","activeIndex"])),Object(p["c"])({computedHL:"computedHighlights"})),methods:Object(n["a"])({onMouseEnter:function(){this.isDrag||(this.updateActiveIndex(this.oIndex),this.mouseover=!0)},onMouseLeave:function(){this.mouseover=!1},changeToCurrent:function(e){if(this.mouseover){var t=this.player,i=this.$parent.$refs.content.clientWidth,s=1e3*this.duration,a=1e3*this.offsetStart,n=this.highlight,r=s/i,o=n.startTimeMs,l=this.grayLinePos*r,h=((l+o-a)/1e3).toFixed(3);this.currTimeout&&window.clearTimeout(this.currTimeout),t.currentTime(h),this.currTime=Object(w["e"])(h),this.currStyl={left:this.grayLinePos+"px"},this.showCurrT=!0;var c=this;this.currTimeout=window.setTimeout(u,2e3),e.stopPropagation(),e.preventDefault()}function u(){c.showCurrT=!1}},handleMouseMove:function(e){if(!this.isDrag){this.$emit("on-move",!1);var t=e.clientX,i=this.$refs.segment,s=i.getBoundingClientRect(),a=s.left;this.grayLinePos=t-a,this.mouseover||(this.mouseover=!0),e.stopPropagation(),e.preventDefault()}},onMouseDown:function(e,t){var i=this,s=this.highlights,a=this.computedHL,n=a.length,r=e.clientX,o=this.$parent.$refs.content.clientWidth,l=this.highlight,h=1e3*this.duration,c=1e3*this.offsetStart,u=c+h,d=h/o,p=this.oIndex,m=1e3,f=l.startTimeMs,g=l.endTimeMs,v=this.index,y=n-1,b=s[p-1],P=s[p+1],S={};this.mouseover=!1,this.showCurrT=!1,this.setDragStatus(!0),t?this.setDragStart(!0):this.setDragEnd(!0);var C=this;function x(){t?C.setDragStart(!1):C.setDragEnd(!1)}this.timeout&&window.clearTimeout(this.timeout),this.onMouseMove=function(e){var n=e.clientX-r,o=n*d;if(t){var l,h=f+o;if(o<0)if(0===v)l=(Math.max(h,c)/1e3).toFixed(3);else{var b=a[v-1].endTimeMs;l=(Math.max(h,b)/1e3).toFixed(3)}else{var P=g-m;l=(Math.min(h,P)/1e3).toFixed(3)}var C=Object(w["e"])(l)+"."+l.split(".")[1];s[p].startTime!==C&&(S={startTime:C,endTime:s[p].endTime},i.updateHLByIndex({oIndex:p,item:S}))}else{var x,M=g+o;if(o>0)if(v===y)x=(Math.min(M,u)/1e3).toFixed(3);else{var k=a[v+1].startTimeMs;x=(Math.min(M,k)/1e3).toFixed(3)}else{var T=f+m;x=(Math.max(M,T)/1e3).toFixed(3)}var _=Object(w["e"])(x)+"."+x.split(".")[1];s[p].endTime!==_&&(S={startTime:s[p].startTime,endTime:_},i.updateHLByIndex({oIndex:p,item:S}))}e.stopPropagation(),e.preventDefault()},this.onMouseUp=function(){i.setDragStatus(!1);var e=s[p],a=e&&e.startTime,n=e&&e.endTime;if(t&&b&&b.endTime===a){S={startTime:b.startTime,endTime:n};var r=p-1;i.updateHLByIndex({oIndex:r,count:2,item:S}),i.updateActiveIndex(r)}else!t&&P&&P.startTime===n&&(S={startTime:a,endTime:P.endTime},i.updateHLByIndex({oIndex:p,count:2,item:S}));i.timeout=window.setTimeout(x,1e3),document.removeEventListener("mousemove",i.onMouseMove),document.removeEventListener("mouseup",i.onMouseUp)},document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),e.stopPropagation(),e.preventDefault()},handleRemove:function(e){var t=this.oIndex;this.updateHLByIndex({oIndex:t}),e.stopPropagation(),e.preventDefault()},onStartFocus:function(){this.isActive||this.updateActiveIndex(this.oIndex),this.isDragEnd&&this.setDragEnd(!1)},onEndFocus:function(){this.isActive||this.updateActiveIndex(this.oIndex),this.isDragStart&&this.setDragStart(!1)},keyDownStart:function(e){var t,i,s=1e3,a=this.highlights,n=this.computedHL,r=this.highlight,o=r.startTimeMs,l=r.endTimeMs,h=this.index,c=this.oIndex,u=1e3*this.offsetStart,d=o+e*s,p=!1;if(e<0)if(0===h)t=(Math.max(d,u)/1e3).toFixed(3);else{i=n[h-1];var m=i.endTimeMs;m===o?p=!0:t=(Math.max(d,m)/1e3).toFixed(3)}else{var f=l-s;t=(Math.min(d,f)/1e3).toFixed(3)}if(p){var g=r.endStr,v={startTime:i.startStr,endTime:g},y=c-1;this.updateHLByIndex({oIndex:y,count:2,item:v}),this.updateActiveIndex(y),Object(T["b"])("Highlight ".concat(h+1," Merged Highlight ").concat(h)),this.$parent.$refs.seg[h-1].$el.focus()}else{var b=Object(w["e"])(t)+"."+t.split(".")[1];if(a[c].startTime!==b){var P={startTime:b,endTime:a[c].endTime};this.updateHLByIndex({oIndex:c,item:P})}}},handleStart:function(e){!this.isDragStart&&this.setDragStart(!0),e.stopPropagation(),e.preventDefault()},onStartKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;switch(t){case i.left:this.keyDownStart(-1),this.handleStart(e);break;case i.right:this.keyDownStart(1),this.handleStart(e);break;case i.esc:this.$emit("update-tab-status"),e.stopPropagation(),e.preventDefault();break}},keyDownEnd:function(e){var t,i,s=1e3,a=this.highlights,n=this.computedHL,r=n.length,o=this.highlight,l=o.startTimeMs,h=o.endTimeMs,c=this.oIndex,u=1e3*this.duration,d=1e3*this.offsetStart,p=d+u,m=h+e*s,f=this.index,g=r-1,v=!1;if(e>0)if(f===g)t=(Math.min(m,p)/1e3).toFixed(3);else{i=n[f+1];var y=i.startTimeMs;h===y?v=!0:t=(Math.min(m,y)/1e3).toFixed(3)}else{var b=l+s;t=(Math.max(m,b)/1e3).toFixed(3)}if(v){var P=o.startStr,S={startTime:P,endTime:i.endStr};this.updateHLByIndex({oIndex:c,count:2,item:S}),Object(T["b"])("Highlight ".concat(f+1," Merged Highlight ").concat(f+2)),this.$refs.segment.focus()}else{var C=Object(w["e"])(t)+"."+t.split(".")[1];if(a[c].endTime!==C){var x={startTime:a[c].startTime,endTime:C};this.updateHLByIndex({oIndex:c,item:x})}}},handleEnd:function(e){!this.isDragEnd&&this.setDragEnd(!0),e.stopPropagation(),e.preventDefault()},onEndKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;switch(t){case i.left:this.keyDownEnd(-1),this.handleEnd(e);break;case i.right:this.keyDownEnd(1),this.handleEnd(e);break;case i.esc:this.$emit("update-tab-status"),e.stopPropagation(),e.preventDefault();break}},onRemoveKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;switch(t){case i.enter:case i.space:var s=this.oIndex,a=this.index+1;this.updateHLByIndex({oIndex:s}),Object(T["b"])("Highlight ".concat(a," removed")),this.$parent.$refs.content.focus(),e.stopPropagation(),e.preventDefault();break;case i.esc:this.$emit("update-tab-status"),e.stopPropagation(),e.preventDefault();break}}},Object(p["d"])({updateHLByIndex:"UPDATE_HL_BY_INDEX",setDragStatus:"SET_DRAG_STATUS",setDragStart:"SET_DRAG_START",setDragEnd:"SET_DRAG_END",updateActiveIndex:"UPDATE_ACTIVE_INDEX"})),watch:{activeIndex:function(e){this.isDrag||(this.setDragStart(!1),this.setDragEnd(!1),this.showCurrT=!1)}}},Pi=bi,Si=(i("45c6"),Object(S["a"])(Pi,yi,wi,!1,null,"676339af",null)),Ci=Si.exports,xi={name:"highlights-setting",props:{player:Object},data:function(){return{isPlaying:!1,saving:!1,leftPos:0,addVal:0,showAddBox:!1,addTip:this.$t("add_highlight"),tabIndex:-1}},components:{HighlightSegment:Ci},directives:{focus:{inserted:function(e,t,i){var s=i.context;0===s.tabIndex&&e.focus()}}},mounted:function(){var e=this,t=this.player;t.on(["play","pause"],(function(){e.isPlaying=!t.paused()}))},computed:Object(n["a"])(Object(n["a"])({showAddTips:function(){return 0===this.computedHL.length&&!this.showAddBox},addBoxStyl:function(){return{left:this.leftPos+"px"}},btnCls:function(){return this.isPlaying?"zm-icon-pause":"zm-icon-play"},controlText:function(){return this.isPlaying?"Pause":"Play"},duration:function(){return this.player.duration()},ariaLabel:function(){return"highlight timeline slider, press space to begin editing highlights, press escape when done"},addAriaDes:function(){return"press arrow keys to navigate, press space to add highlight"},startAriaDes:function(){return"press arrow left/right to edit start time"},endAriaDes:function(){return"press arrow left/right to edit end time"},max:function(){var e=this.duration;return parseInt(e)},addTime:function(){var e=this.addVal;return Object(w["e"])(e)},unit:function(){var e=1e3*this.duration,t=this.$refs.content,i=t.clientWidth;return i/e}},Object(p["e"])(["offsetStart","highlights","tranLocalJsonFileId","recordMeetId","fileStartTime","transcriptList","isDrag"])),Object(p["c"])({videoId:"videoId",HLItemList:"HLItemList",computedHL:"computedHighlights"})),methods:Object(n["a"])({togglePlay:function(){var e=this.player,t=this.isPlaying;t?e.pause():e.play()},onMouseMove:function(e){if(!this.isDrag){var t=e.clientX,i=this.$refs.content,s=i.getBoundingClientRect(),a=s.left,n=i.clientWidth-7,r=t-a-3;r<0?r=0:r>n&&(r=n),this.leftPos=r,this.updateAddBoxStatus(!0)}},onMouseLeave:function(){this.updateAddBoxStatus(!1)},handleRightKeyDown:function(){var e=this.unit,t=this.max;this.checkSegments(this.addVal,!0),this.addVal=this.addVal<t?this.addVal:t,this.leftPos=Math.round(1e3*this.addVal*e)},onKeyDown:function(e){var t=e.keyCode,i=k["a"].keys;switch(t){case i.space:this.tabIndex=0,this.updateAddBoxStatus(!0),this.addVal=0,this.handleRightKeyDown(),e.stopPropagation(),e.preventDefault();break;case i.esc:this.tabIndex=-1,e.stopPropagation();break}},onAddKeyDown:function(e){var t=e.keyCode,i=k["a"].keys,s=this.unit,a=1/this.unit,n=Math.round(7*a)/1e3,r=this.max-n;switch(t){case i.space:this.onClick(),this.$refs.content.focus(),e.stopPropagation(),e.preventDefault();break;case i.left:this.addVal>0&&(this.addVal--,this.checkSegments(this.addVal,!1),this.addVal=this.addVal>0?this.addVal:0,this.leftPos=Math.round(1e3*this.addVal*s)),e.stopPropagation();break;case i.right:this.addVal<r-1&&(this.addVal++,this.handleRightKeyDown()),e.stopPropagation();break;case i.esc:this.updateTabStatus(),e.stopPropagation();break}},onClick:function(){if(this.showAddBox){var e=this.highlights,t=this.computedHL,i=this.HLItemList,s=e.length,a=t.length,n=1e3*this.offsetStart,r=1e3*this.duration,o=this.$refs.content,l=o.clientWidth,h=r/l,c=l-7,u=7*h,d=this.leftPos;d<0?d=0:d>c&&(d=c);var p=(d+7)*h+n,m=p-u,f=(m/1e3).toFixed(3),g=(p/1e3).toFixed(3),v={},y=1,b=!1;if(v.startTime=Object(w["e"])(f)+"."+f.split(".")[1],v.endTime=Object(w["e"])(g)+"."+g.split(".")[1],0===a)if(0===s)this.updateHLByIndex({oIndex:0,count:0,item:v});else for(var P=i[0],S=0;S<s;S++){var C=i[S],x=i[S+1];if(m>C.endTimeMs&&(x&&p<x.startTimeMs||!x)){this.updateHLByIndex({oIndex:S+1,count:0,item:v});break}if(p<P.startTimeMs){this.updateHLByIndex({oIndex:0,count:0,item:v});break}}else for(var M=t[0],k=0;k<a;k++){var T=t[k],_=t[k+1];if(m>T.endTimeMs&&(_&&p<_.startTimeMs||!_)){this.updateHLByIndex({oIndex:T.index+1,count:0,item:v}),y=k+2;break}if(p<M.startTimeMs){this.updateHLByIndex({oIndex:0,count:0,item:v});break}if(m>T.startTimeMs&&m<=T.endTimeMs&&(_&&p<_.startTimeMs||!_)){v.startTime=T.startStr,this.updateHLByIndex({oIndex:T.index,count:1,item:v}),y=k+1,b=!0;break}if(m<T.startTimeMs&&p<=T.endTimeMs&&p>T.startTimeMs){v.endTime=T.endStr,this.updateHLByIndex({oIndex:T.index,count:1,item:v}),y=k+1,b=!0;break}if(m>=T.startTimeMs&&m<=T.endTimeMs&&_&&p>=_.startTimeMs&&p<=_.endTimeMs){v.startTime=T.startStr,v.endTime=_.endStr,this.updateHLByIndex({oIndex:T.index,count:2,item:v}),y=k+1,b=!0;break}}this.updateAddBoxStatus(!1),this.addVal=0,this.handleRightKeyDown(),this.readAddAria(y,b)}},readAddAria:function(e,t){t?Object(T["b"])("Highlight ".concat(e," updated")):Object(T["b"])("Highlight ".concat(e," added"))},updateTabStatus:function(){this.tabIndex=-1,this.$refs.content.focus(),this.updateAddBoxStatus(!1)},updateAddBoxStatus:function(e){this.showAddBox!==e&&(this.showAddBox=e)},updateOriginalHL:function(){var e=this.player,t=e.highlights().highlightsSettingComp,i=JSON.parse(JSON.stringify(this.highlights));t.updateOriginalHL(i)},save:function(){var e=this;this.saving=!0;var t=this.HLItemList,i=[],s=[],a=[];this.highlights.forEach((function(e,s){var n={startTime:e.startTime,endTime:e.endTime};i.push(n),a=a.concat(t[s].itemIds)})),this.transcriptList.forEach((function(e){for(var t=!1,i=e.itemId,n=0;n<a.length;n++)if(i===a[n]){t=!0;break}s.push({item_id:i,highlighted:t})}));var n={tranLocalJsonFileId:this.tranLocalJsonFileId,fileId:this.videoId,meetingId:this.recordMeetId,fileStartTime:this.fileStartTime,ranges:JSON.stringify(i),items:JSON.stringify(s)};Object(Qt["q"])(n).then((function(){e.saving=!1,e.updateOriginalHL(),e.updateHLByItemIds(a),e.$emit("hide")})).catch((function(t){e.saving=!1,e.$message.error(t.message)})),this.tabIndex=-1},cancel:function(){this.tabIndex=-1,this.$emit("hide")},checkSegments:function(e,t){var i=this.computedHL,s=i.length,a=1/this.unit,n=this.offsetStart,r=Math.round(7*a)/1e3;if(s>0)for(var o=0;o<s;o++){var l=i[o],h=l.startTime,c=l.endTime;e+n>=h&&e+r+n<=c&&(t?parseInt(c-n)===this.max?this.addVal=h-n-r:this.addVal=c-n:this.addVal=h-n-r)}}},Object(p["d"])({updateHLByItemIds:"UPDATE_HL_BY_ITEM_IDS",updateHLByIndex:"UPDATE_HL_BY_INDEX"}))},Mi=xi,ki=(i("3a3b"),Object(S["a"])(Mi,gi,vi,!1,null,"8ed95ca6",null)),Ti=ki.exports,_i=window.Vue,ji=u["default"].getPlugin("plugin"),Oi=function(e){Object(h["a"])(i,e);var t=Object(c["a"])(i);function i(e,s){var a;Object(r["a"])(this,i),a=t.call(this,e,s);var n=!d["a"].getters.computedHighlights.length,o=d["a"].state,h=o.isHighlightFile,c=o.enableHighlight,u=o.canEditHighlight,p=o.hasPermissionEdit,m=o.useFakeTrim,f=o.trimming;return h||!c||!u||!p&&n||!m&&f?Object(l["a"])(a):(a.sharePlayer=s.sharePlayer,a.attendeePlayer=s.attendeePlayer,a.createHighlightsBar(e),a.createHighlightsControlComp(e),p&&!f&&a.createHighlightsSettingComp(e),a)}return Object(o["a"])(i,[{key:"createHighlightsBar",value:function(e){var t=this.sharePlayer,i=this.attendeePlayer;Object(O["a"])().then((function(s){var a=new _i({i18n:s,store:d["a"],render:function(s){return s(Li,{props:{player:e,sharePlayer:t,attendeePlayer:i}})}});a.$mount(),e.controlBar.progressControl.contentEl().appendChild(a.$el)}))}},{key:"createHighlightsControlComp",value:function(e){var t=this,i=this.sharePlayer,s=this.attendeePlayer;Object(O["a"])().then((function(a){var n=new _i({store:d["a"],i18n:a,render:function(t){return t(Ai,{props:{player:e,sharePlayer:i,attendeePlayer:s}})}});n.$mount(),e.contentEl().appendChild(n.$el),t.highlightsControlComp=n}))}},{key:"createHighlightsSettingComp",value:function(e){var t=this;Object(O["a"])().then((function(i){var s=new _i({store:d["a"],i18n:i,render:function(t){return t($i,{props:{player:e},on:{hide:this.onSettingHide},ref:"comp"})},computed:Object(n["a"])({},Object(p["e"])(["highlights"])),methods:Object(n["a"])({show:function(){var e=JSON.parse(JSON.stringify(this.highlights));this.updateOriginalHL(e),this.$refs.comp.show()},hide:function(){this.$refs.comp.hide()},onSettingHide:function(){var t=JSON.parse(JSON.stringify(this.originalHL));e.controlBar.show(),this.$emit("hide"),this.updateHighlights(t),this.setEditHLStatus(!1),this.updateActiveIndex(-1)},updateOriginalHL:function(e){this.originalHL=e}},Object(p["d"])({updateHighlights:"UPDATE_HIGHLIGHTS",setEditHLStatus:"SET_EDIT_HL_STATUS",updateActiveIndex:"UPDATE_ACTIVE_INDEX"}))});s.$mount(),e.contentEl().appendChild(s.$el),t.highlightsSettingComp=s}))}}]),i}(ji);u["default"].registerPlugin("highlights",Oi);var Li={mixins:[j["a"]],components:{VjsHighlightBar:Gt},computed:Object(n["a"])({},Object(p["c"])({highlights:"computedHighlights"})),render:function(){var e=arguments[0];return e("div",{class:"vjs-highlights-bar"},[this.renderBars()])},methods:{renderBars:function(){var e=this,t=this.$createElement;return this.highlights.map((function(i,s){return t("vjs-highlight-bar",{attrs:{highlight:i,player:e.player},key:i.startTimeMs+"/"+s})}))}}},Ai={mixins:[j["a"]],components:{HighlightsControlBar:fi},computed:Object(n["a"])(Object(n["a"])({},Object(p["e"])(["highlightsMode","editHL"])),Object(p["c"])({highlights:"computedHighlights"})),mounted:function(){var e=this;this.player.on("timeupdate",(function(){var t=1*e.player.realCurrentTime().toFixed(3);(e.highlightsMode||e.editHL)&&e.highlights.length&&e.checkPlaybackSegments(t),e.setRealCurrT(t)}))},render:function(){var e=arguments[0];return e("highlights-control-bar",{attrs:{player:this.player}})},methods:Object(n["a"])({checkPlaybackSegments:function(e){var t=this.player,i=JSON.parse(JSON.stringify(this.highlights)),s=i.length;if(s>0){var a=i[0].startTime,n=i[s-1].endTime;if(e<a)t.realCurrentTime(a);else if(e>=n)t.realCurrentTime(a),t.pause();else for(var r=0;r<s;r++){var o=i[r],l=i[r+1];if(e>=o.startTime&&e<=o.endTime)return;if(e>o.endTime&&e<l.startTime)return void t.realCurrentTime(l.startTime)}}}},Object(p["d"])({setRealCurrT:"SET_REAL_CURR_T"}))},$i={props:{player:Object},data:function(){return{visible:!1}},components:{HighlightsSetting:Ti},render:function(){var e=arguments[0];return e("highlights-setting",{directives:[{name:"show",value:this.visible}],attrs:{player:this.player},on:{hide:this.hide}})},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1,this.$emit("hide")}}},Ii=(i("3fee"),i("c024"),function(e,t){return Ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Ii(e,t)});function Ei(e,t){function i(){this.constructor=e}Ii(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function Wi(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),a=0;for(t=0;t<i;t++)for(var n=arguments[t],r=0,o=n.length;r<o;r++,a++)s[a]=n[r];return s}var Vi=function(){function e(){this.events={}}return e.prototype.on=function(e,t,i){void 0===i&&(i=this),this.events[e]||(this.events[e]=[]),this.events[e].push([t,i])},e.prototype.once=function(e,t,i){var s=this;void 0===i&&(i=this);var a=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];s.off(e,a),t.apply(i,n)};a.fn=t,this.on(e,a)},e.prototype.off=function(e,t){if(e||t){if(e){if(!t)return void(this.events[e]=[]);var i=this.events[e];if(!i)return;var s=i.length;while(s--)(i[s][0]===t||i[s][0]&&i[s][0].fn===t)&&i.splice(s,1)}}else this.events={}},e.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=this.events[e];if(s)for(var a=s.length,n=Wi(s),r=0;r<a;r++){var o=n[r],l=o[0],h=o[1];l&&l.apply(h,t)}},e.prototype.dispose=function(){this.events={}},e}();function Di(e){0}function Hi(e,t,i){return t<=i&&(e>=t&&e<=i)}function Bi(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function Ri(e){Bi(e)&&e.then(null,(function(){}))}var Ni=5e3,Ui=2,zi=.3,Fi=1e3,qi=1e3,Ki=1,Gi=4,Ji=.5,Xi=-.5,Zi=.25,Yi=.05,Qi=-.05,es="players-ready",ts="master-play",is="master-pause",ss="master-rate-changes",as="master-ended",ns="master-time-update",rs="buffering",os="buffered-and-auto-play",ls="buffered-not-auto-play",hs="synchronizing",cs=function(e){function t(t,i,s){var a=e.call(this)||this;return a.masterPlayer=t,a.syncPlayers=i,a.audioPlayer=null,a.attendeePlayer=null,a.readyPlayers={},a.loadedPlayers={},a.isBuffering=!1,a.hitPauseWhileBuffering=!1,a.ignoreNextPause=!1,a.playWhenBuffered=!1,a.bufferCheckerSet=!1,a.lastSync=0,a.volume=1,a.withAudio=!1,a.supportPslAudio=!1,a.useAudio=!1,a.usePslAudio=!1,a.isMuted=!1,s&&s.withAudio&&(a.withAudio=!0,a.audioPlayer=i[i.length-1]),s&&s.supportPslAudio&&(a.supportPslAudio=!0,s.withAudio?a.attendeePlayer=i[i.length-2]:a.attendeePlayer=i[i.length-1]),a.players=Wi([a.masterPlayer],a.syncPlayers),a.initState(),a.bindMethods(),a.registerEvents(),a}return Ei(t,e),t.prototype.playMaster=function(){this.allPlayersLoaded()&&this.play(this.masterPlayer)},t.prototype.pauseMaster=function(){this.allPlayersLoaded()&&this.pause(this.masterPlayer)},t.prototype.setCurrentTime=function(e){this.allPlayersLoaded()&&this.masterPlayer.currentTime(e)},t.prototype.unmute=function(e,t){return e&&t?(Di("[unmute] Unmuting video element id '"+e+"'"),e.volume(t),!0):(Di("[unmute] Undefined video element id '"+e+"'"),!1)},t.prototype.getVolume=function(e){return e?(Di("[volume] Getting volume from video element id '"+e.id()+"': "+e.volume()),e.volume()):(Di("[volume] Undefined video element id"),-1)},t.prototype.chooseAudio=function(e,t){var i=this;if(this.withAudio&&this.audioPlayer)if(e)Di("[chooseAudio] Master player choose audio player"),this.audioPlayer.src(e),this.synchronize(),this.audioPlayer.one("loadeddata",(function(){var e,s=t&&i.supportPslAudio&&i.attendeePlayer,a=s?i.attendeePlayer:i.masterPlayer,n=i.getVolume(i.useAudio?i.audioPlayer:a);i.volume=n,i.useAudio||(null===a||void 0===a||a.muted(!0),i.unmute(i.audioPlayer,n),null===(e=i.audioPlayer)||void 0===e||e.muted(i.isMuted),i.useAudio=!0),i.supportPslAudio&&(i.usePslAudio=!1),i.synchronize(),Di("[chooseAudio] choose audio player from pslAudio "+!!s)}));else{var s=t&&this.supportPslAudio&&this.attendeePlayer,a=s?this.attendeePlayer:this.masterPlayer;Di("[chooseAudio] cancel audio player, now play psl audio "+!!s);var n=this.getVolume(this.useAudio?this.audioPlayer:this.masterPlayer);this.volume=n,this.useAudio&&(this.audioPlayer.muted(!0),null===a||void 0===a||a.muted(this.isMuted),null===a||void 0===a||a.volume(this.volume),this.useAudio=!1),s&&(this.usePslAudio=!0),this.synchronize()}},t.prototype.choosePslAudio=function(e){var t,i,s,a;if(this.supportPslAudio&&this.attendeePlayer)if(e){Di("[choosePslAudio] choose psl player audio");var n=this.getVolume(this.masterPlayer);this.volume=n,this.usePslAudio||(this.masterPlayer.muted(!0),null===(t=this.audioPlayer)||void 0===t||t.muted(!0),this.unmute(this.attendeePlayer,n),null===(i=this.attendeePlayer)||void 0===i||i.muted(this.isMuted),this.usePslAudio=!0),this.synchronize()}else{Di("[choosePslAudio] choose master player audio");n=this.getVolume(this.masterPlayer);this.volume=n,this.usePslAudio&&(null===(s=this.attendeePlayer)||void 0===s||s.muted(!0),null===(a=this.audioPlayer)||void 0===a||a.muted(!0),this.masterPlayer.muted(this.isMuted),this.masterPlayer.volume(this.volume),this.usePslAudio=!1),this.synchronize()}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearMasterPlayerEvent(),this.readyPlayers={},this.loadedPlayers={}},t.prototype.initState=function(){var e=this;this.players.forEach((function(t){var i=t.id();e.readyPlayers[i]=!1,e.loadedPlayers[i]=!1}))},t.prototype.bindMethods=function(){var e=this,t=["onMasterPlay","onMasterPause","onMasterRateChange","onMasterEnded","onMasterTimeUpdate","checkBuffer"];t.forEach((function(t){e[t]=e[t].bind(e)}))},t.prototype.registerEvents=function(){var e=this;this.waitAllPlayersReady((function(){e.registerMasterPlayerEvent(),e.trigger(es)}))},t.prototype.waitAllPlayersReady=function(e){var t=this;this.players.forEach((function(i){i.ready((function(){var s=i.id();t.readyPlayers[s]=!0,t.waitDataLoaded(i,(function(){t.loadedPlayers[s]=!0,t.allPlayersLoaded()&&e()}))}))}))},t.prototype.waitDataLoaded=function(e,t){var i=!1,s=setTimeout((function(){i=!0,t()}),Ni);e.one("loadeddata",(function(){clearTimeout(s),i||t()}))},t.prototype.registerMasterPlayerEvent=function(){this.masterPlayer.on("play",this.onMasterPlay),this.masterPlayer.on("pause",this.onMasterPause),this.masterPlayer.on("ratechange",this.onMasterRateChange),this.masterPlayer.on("ended",this.onMasterEnded),this.masterPlayer.on("timeupdate",this.onMasterTimeUpdate)},t.prototype.clearMasterPlayerEvent=function(){this.masterPlayer.off("play",this.onMasterPlay),this.masterPlayer.off("pause",this.onMasterPause),this.masterPlayer.off("ratechange",this.onMasterRateChange),this.masterPlayer.off("ended",this.onMasterEnded),this.masterPlayer.off("timeupdate",this.onMasterTimeUpdate)},t.prototype.onMasterPlay=function(){Di("Master player received 'play' event"),this.hitPauseWhileBuffering=!1,this.setBufferChecker(),this.playSyncPlayers(),this.trigger(ts,this.masterPlayer.currentTime())},t.prototype.onMasterPause=function(){Di("Master player received 'pause' event"),this.hitPauseWhileBuffering=!this.ignoreNextPause,this.ignoreNextPause=!1,this.trigger(is,this.masterPlayer.currentTime())},t.prototype.onMasterRateChange=function(){Di("Master player received 'ratechange' event");var e=this.masterPlayer.playbackRate();this.setSyncPlayersPlayRate(e),this.trigger(ss,e)},t.prototype.onMasterEnded=function(){Di("Master player received 'ended' event"),this.hitPauseWhileBuffering=!0,this.pauseAll(!1),this.synchronize(),this.trigger(as,this.masterPlayer.duration())},t.prototype.onMasterTimeUpdate=function(){Di("Master player received 'timeupdate' event"),this.hitPauseWhileBuffering=this.hitPauseWhileBuffering||!this.masterPlayer.paused(),(Date.now()-this.lastSync>=qi||this.masterPlayer.paused())&&this.synchronize(),this.trigger(ns,this.masterPlayer.currentTime())},t.prototype.playSyncPlayers=function(){var e=this,t=this.syncPlayers.length-2;this.syncPlayers.forEach((function(i,s){e.play(i),s<t?e.mute(i):s===t?e.withAudio&&e.usePslAudio&&e.supportPslAudio||e.mute(i):e.supportPslAudio&&!e.withAudio?e.usePslAudio||e.mute(i):e.useAudio&&e.withAudio||e.mute(i)}))},t.prototype.setSyncPlayersPlayRate=function(e){this.syncPlayers.forEach((function(t){t.playbackRate(e)}))},t.prototype.synchronize=function(){var e=this;this.lastSync=Date.now(),this.syncPlayers.forEach((function(t){var i=!1,s=e.masterPlayer.paused(),a=e.getSyncDelay(t);if(s)i=!0;else{var n=t.playbackRate(),r=e.masterPlayer.playbackRate();if(a>Yi||a<Qi){if(Math.abs(a)<Gi){var o=r;a>0?(o+=Xi,Di('[synchronize] Decreasing playback rate of player "'+t.id()+'" from '+n+" to "+o)):(o+=Ji,Di('[synchronize] Increasing playback rate of player "'+t.id()+'" from '+n+" to "+o)),t.playbackRate(o)}else t.playbackRate(r),i=!0;e.trigger(hs,[e.masterPlayer,t])}else t.playbackRate(r),Di('[synchronize] Playing player "'+t.id()+'"'),e.play(t)}if(i){var l=e.masterPlayer.currentTime(),h=s?l:l+Zi;Di('[synchronize] Seeking player "'+t.id()+'": '+h),t.currentTime(h),s?(e.pause(t),Di('[synchronize] Pause player "'+t.id()+'" after seeking')):(e.play(t),Di('[synchronize] Playing player "'+t.id()+'" after seeking')),e.trigger(hs,[e.masterPlayer,t])}}))},t.prototype.getSyncDelay=function(e){var t=this.masterPlayer.currentTime(),i=e.currentTime();return-1===t||-1===i||Hi(i,t-Ki,t)?0:i-t},t.prototype.setBufferChecker=function(){this.bufferCheckerSet||(this.bufferCheckerSet=!0,window.clearTimeout(this.checkTimer),this.checkTimer=window.setTimeout(this.checkBuffer,Fi))},t.prototype.checkBuffer=function(){var e=!0;this.players.some((function(t){for(var i=t.buffered(),s=t.duration(),a=Math.min(t.currentTime()+Ui,s),n=!1,r=0;r<i.length&&!n;r++){var o=i.start(r),l=i.end(r)+zi;Hi(a,o,l)&&(n=!0)}if(e=e&&n,!e)return!0})),this.isBuffering=!e,e?this.playWhenBuffered&&!this.hitPauseWhileBuffering?(this.playWhenBuffered=!1,this.play(this.masterPlayer),this.trigger(os)):this.playWhenBuffered&&(this.playWhenBuffered=!1,this.trigger(ls)):(this.playWhenBuffered=!0,this.ignoreNextPause=!0,this.pauseAll(!0),Di("[checkBuffer] buffering"),this.trigger(rs)),this.checkTimer=window.setTimeout(this.checkBuffer,Fi)},t.prototype.allPlayersLoaded=function(){var e=this;return Object.keys(this.loadedPlayers).every((function(t){return e.loadedPlayers[t]}))},t.prototype.allPlayersReady=function(){var e=this;return Object.keys(this.readyPlayers).every((function(t){return e.readyPlayers[t]}))},t.prototype.pauseAll=function(e){var t=this;this.players.forEach((function(i){(e&&i===t.masterPlayer||i!==t.masterPlayer)&&t.pause(i)}))},t.prototype.play=function(e){return!!e.paused()&&(this.allPlayersReady()?this.isBuffering?(Di("[play]  A player is currently buffering"),!1):(Ri(e.play()),!0):(Di("[play] Not all players are ready, yet"),!1))},t.prototype.pause=function(e){e.pause(),Di("[pause] Pausing Player "+e.id())},t.prototype.mute=function(e){e.volume(0),Di("[mute] Muting Player "+e.id())},t}(Vi);function us(e,t,i){return new cs(e,t,i)}var ds=us,ps=i("e782"),ms=i("2d2e"),fs=i("466ac"),gs=i("f507"),vs={name:"video-player",mixins:[ms["a"],fs["a"]],components:{HeadSummary:gs["a"]},data:function(){return{viewWidth:"100%",viewHeight:"100%",shareWidth:"100%",shareHeight:"100%",attendeeWidth:"100%",attendeeHeight:"100%",panelRWidth:"100%",panelRPrevWidth:"",playerViewWrapperWidth:"100%",playerViewWrapperHeight:"100%",playerViewPreWrapperWidth:"",playerReady:!1,isDrag:!1,player:null,audioPlayer:null,attendeePlayer:null,syncWithAudio:null,transcriptWrapperHeight:"300",transcriptWrapperWidth:"auto",playerViewScrollerHeight:"100%",signLanguageTitleWidth:"100%"}},computed:Object(n["a"])(Object(n["a"])({windowInnerHeight:function(){return window.innerHeight},shouldHaveSharePlayer:function(){return this.isNewSwitchViewLogic?this.canMultiplePlayShareWithMaster||this.hasASLVideo:this.shareMp4Url||this.hasASLVideo},needAttendeePlayer:function(){return this.isNewSwitchViewLogic&&this.hasValidPsl},interpreterList:function(){return this.interpreterAudioList||[]},hasInterpreterList:function(){return this.interpreterList&&this.interpreterList.length>0},playerViewStyl:function(){return{width:this.viewWidth+"px",height:this.viewHeight+"px"}},playerShareStyl:function(){return{width:this.shareWidth+"px",height:this.shareHeight+"px"}},playerAttendeeStyl:function(){return{width:this.attendeeWidth+"px",height:this.attendeeHeight+"px"}},panelRStyl:function(){return{width:this.panelRWidth}},playerViewWrapperStyl:function(){return this.enableRedesignLayout?{width:this.playerViewWrapperWidth+"px",height:this.playerViewWrapperHeight+"px"}:{width:this.playerViewWrapperWidth}},transcriptWrapperStyl:function(){return{width:this.transcriptWrapperWidth+"px",height:this.transcriptWrapperHeight+"px",paddingTop:this.transcriptWrapperPaddingTop}},playerViewScrollerStyle:function(){return{height:this.isASLSelected?this.viewHeight+"px":this.playerViewScrollerHeight+"px"}},attendeePlayerStyle:function(){return{height:this.nowPlayPsl?this.playerViewScrollerHeight+"px":"0px"}},signLanguageTitleStyle:function(){return this.enableRedesignLayout?{width:this.signLanguageTitleWidth+"px"}:{}},showHighlightControl:function(){return!this.isHighlightFile&&this.enableHighlight&&this.canEditHighlight&&(this.hasPermissionEdit||this.hasHighlight)&&!(!this.useFakeTrim&&this.trimming)},videoPlayerCls:function(){var e=[];return this.hasTranscriptOrChat&&e.push("has-transcript"),this.nowPlayPsl&&e.push("psl-start"),this.hasMultiPlayer&&e.push("start-share"),(this.popMarkerShow||this.popMenuShow)&&e.push("has-pop-overlay"),this.showHighlightControl&&e.push("has-highlight"),this.showTrimControl&&e.push("trim-derived"),this.viewResolvtionsHeight||e.push("uploaded"),this.useNewLayout&&e.push("video-player-new"),e.join(" ")},transcriptWrapperPaddingTop:function(){return this.notShowSummaryUnderSmallScreenRedesignLayout&&this.leftBottomWrapperStyle?this.leftBottomWrapperStyle.marginTop:"0px"},notShowSummaryUnderSmallScreenRedesignLayout:function(){return this.enableRedesignLayout&&this.enableRedesignLayout&&this.smallScreen&&!(this.showSmartChapters&&this.hasSmartChapters)},hasHighlight:function(){var e=this.computedHighlights;return e&&e.length},needLoadChapter:function(){return this.shareMp4Url&&this.chapterUrl},isASLSelected:function(){return this.aslLanguage&&"origin"!==this.aslLanguage&&this.hasASLVideo},menuItems:function(){return this.aslLanguageList.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{text:e.languageText})}))},selectedAslItem:function(){var e=this;return this.menuItems.find((function(t){return t.language===e.aslLanguage}))},speakerUrl:function(){return"GV"===this.playbackModel&&this.gallaryMp4Url?this.gallaryMp4Url:this.viewMp4Url},hasMultiPlayer:function(){return this.isNewSwitchViewLogic?!this.nowPlayPsl&&(this.isASLSelected||this.nowPlayMultipleShareWithMaster):this.shareStart||this.isASLSelected},showDraggable:function(){return this.isNewSwitchViewLogic?!this.nowPlayPsl&&(this.nowPlayMultipleShareWithMaster||this.isASLSelected):this.shareStart&&this.shareMp4Url||this.isASLSelected},showSignLanguageTitle:function(){return(!this.isNewSwitchViewLogic||!this.nowPlayPsl)&&this.isASLSelected},signLanguage:function(){var e;return(null===(e=this.selectedAslItem)||void 0===e?void 0:e.text)||this.$t("asl_language_origin")},aslLanguageList:function(){return this.aslVideoList||[]},isPlayOriginal:function(){return this.originalStatus&&this.originalResource&&!this.useFakeTrim&&this.hasOrigin},loadOriginalSource:function(){return this.originalResource||{}},isAnyPlayerFull:function(){return this.player.isFullscreen()||this.sharePlayer&&this.sharePlayer.isFullscreen()||this.attendeePlayer&&this.attendeePlayer.isFullscreen()},shouldHaveAttendeePanel:function(){return this.isNewSwitchViewLogic&&this.hasValidPsl},shouldShowAttendeePanel:function(){return this.isNewSwitchViewLogic&&(this.attendeePlayer&&this.attendeePlayer.isFullscreen()||this.nowPlayPsl)},showPlayerViewWrapper:function(){return!this.isNewSwitchViewLogic||this.player&&this.player.isFullscreen()||!this.nowPlayPsl}},Object(p["e"])(["aslVideoList","useFakeTrim","originalStatus","originalResource","gallaryMp4Url","chapterUrl","ccUrl","aslLanguage","viewMp4WithshareUrl","shareResolvtionsWidth","shareResolvtionsHeight","viewResolvtionsWidth","viewResolvtionsHeight","playbackModel","nextClipStartTime","shareStart","enableHighlight","canEditHighlight","isHighlightFile","hasPermissionEdit","zoomNote","interpreterAudioList","thumbnail","isNewSwitchViewLogic","psUrl","shareMp4Url","productionStudioMp4Url","speakerMp4Url","viewMp4WithshareUrl","galleryMp4Url","gallaryMp4WithshareUrl","pslStart","enableRedesignLayout","language","smallScreen"])),Object(p["c"])(["computedHighlights","hasOrigin","hasASLVideo","isPlayClip","canMultiplePlayShareWithMaster","nowPlayMultipleShareWithMaster","hasValidPsl","needPslVtt","isAttendeeViewOn","nowPlayPsl","playModeItem","masterPlayerUrlName","hasSmartChapters"])),mounted:function(){this.createPlayer();var e=[];if(this.shouldHaveSharePlayer&&(this.createSharePlayer(),e.push(this.sharePlayer)),this.hasASLVideo&&(this.createSignPlayer(),e.push(this.signPlayer)),this.isNewSwitchViewLogic&&this.needAttendeePlayer&&(this.createAttendeePlayer(),e.push(this.attendeePlayer)),this.hasInterpreterList&&(this.createAudioPlayer(),e.push(this.audioPlayer)),this.syncWithAudio=ds(this.player,e,{withAudio:this.hasInterpreterList,supportPslAudio:this.isNewSwitchViewLogic&&this.needAttendeePlayer}),this.enableRedesignLayout){var t=document.documentElement;t&&Object(ps["a"])(t,this.layout)}else Object(ps["a"])(this.$el,this.layout);this.showMessage()},beforeDestroy:function(){var e=this.player,t=this.sharePlayer,i=this.audioPlayer,s=this.signPlayer,a=this.attendeePlayer;if(e.off(),e.dispose(),t&&(t.off(),t.dispose()),i&&(i.off(),i.dispose()),s&&(s.off(),s.dispose()),a&&(a.off(),a.dispose()),this.enableRedesignLayout){var n=document.documentElement;n&&Object(ps["b"])(n,this.layout)}else Object(ps["b"])(this.$el,this.layout)},methods:Object(n["a"])({togglePlay:function(e){if(0===e.button){var t=this.player;t.paused()?t.play():t.pause()}},insertOverlayEl:function(e){if(ci["b"]){var t=e.$("video"),i=u["default"].dom.createEl("div",{className:"vjs-rec-overlay"}),s=t.parentNode;s.lastChild===t?s.appendChild(i):s.insertBefore(i,t.nextSibling),i.addEventListener("mouseup",this.togglePlay),i.addEventListener("dblclick",(function(){e.tech().trigger("dblclick")})),i.addEventListener("contextmenu",(function(t){t.preventDefault(),e.tech().trigger("contextmenu",t)}))}},getShareStartPlayUrlByKey:function(e){var t=this.isPlayOriginal,i=this.loadOriginalSource;return t&&i[e]?i[e]:this[e]},createAudioPlayer:function(){var e=this.speakerUrl;this.audioPlayer=Object(u["default"])(this.$refs.audioPlayer,{controls:!1,preload:"auto",autoplay:ci["e"],sources:{src:e,type:"audio/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1})},createSignPlayer:function(){var e=this,t=this.speakerUrl;this.signPlayer=Object(u["default"])(this.$refs.signPlayer,{controls:!1,preload:"auto",autoplay:ci["e"],sources:{src:t,type:"video/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1},(function(){e.insertOverlayEl(e.signPlayer)}))},createPlayer:function(){var e,t=this;e=this.isNewSwitchViewLogic&&this.isPlayClip?this[this.masterPlayerUrlName]:this.speakerUrl;var i=this.zoomNote?"application/x-mpegURL":"video/mp4",s={nativeTextTracks:!1};if(this.zoomNote){var a=e.split("?")[1];u["default"].Vhs.xhr.beforeRequest=function(e){return e.uri.endsWith(".ts")&&(e.uri=e.uri+"?"+a),e},s.vhs={overrideNative:!0,withCredentials:!0}}this.player=Object(u["default"])(this.$refs.player,{controls:!0,preload:"auto",autoplay:this.autoPlay||ci["e"],bigPlayButton:!1,language:O["b"],sources:{src:e,type:i},controlBar:{currentTimeDisplay:!1,durationDisplay:!1,remainingTimeDisplay:!1,captionsButton:!1,textTrackSettings:!1,subtitlesButton:!1,descriptionsButton:!1,chaptersButton:!1,liveDisplay:!1,timeDivider:!1,playbackRateMenuButton:!1,audioTrackButton:!1,customControlSpacer:!1,fullscreenToggle:!1,pictureInPictureToggle:!1,seekToLive:!1,subsCapsButton:!1},html5:s},(function(){var e=t.player,i=t.sharePlayer,s=t.signPlayer,a=t.attendeePlayer;t.insertOverlayEl(e),e.one("loadeddata",(function(){var s=t.offsetStart,n=t.offsetEnd;t.reorderControlBar(),t.registerPlugins(),s>0&&s<n&&e.currentTime(0),e.on("fullscreenchange",(function(){setTimeout((function(){t.isNewSwitchViewLogic?e.isFullscreen()?(t.moveBack(),e.trigger("player-resize",{mainPlayerWidth:e.contentEl().clientWidth})):t.handleOutFull():!e.isFullscreen()&&t.hasMultiPlayer?(t.move(),e.trigger("player-resize",{mainPlayerWidth:i.contentEl().clientWidth})):(t.moveBack(),e.trigger("player-resize",{mainPlayerWidth:e.contentEl().clientWidth})),t.$forceUpdate()}),0)})),i&&i.on("fullscreenchange",(function(){setTimeout((function(){t.isNewSwitchViewLogic?i.isFullscreen()?(t.move(),e.trigger("player-resize",{mainPlayerWidth:i.contentEl().clientWidth})):t.handleOutFull():i.isFullscreen()||t.hasMultiPlayer?(t.move(),e.trigger("player-resize",{mainPlayerWidth:i.contentEl().clientWidth})):(t.moveBack(),e.trigger("player-resize",{mainPlayerWidth:e.contentEl().clientWidth})),t.$forceUpdate()}),0)})),t.isNewSwitchViewLogic&&a&&a.on("fullscreenchange",(function(){setTimeout((function(){a.isFullscreen()?(t.moveToAttendee(),e.trigger("player-resize",{mainPlayerWidth:a.contentEl().clientWidth})):t.handleOutFull(),t.$forceUpdate()}),0)})),t.layout(),t.playerReady=!0})),e.on("attendee-on",(function(e,i){t.isNewSwitchViewLogic&&t.pslStart&&!t.isAnyPlayerFull&&(i?t.handlePslStartUnderAttendee():t.handlePslEndUnderAttendee())})),e.on("psl-start",(function(e,i){t.isNewSwitchViewLogic&&(t.setPslStart(i),t.isAttendeeViewOn&&!t.isAnyPlayerFull&&(i?t.handlePslStartUnderAttendee():t.handlePslEndUnderAttendee()))})),t.isNewSwitchViewLogic&&e.on("normal-mode-switch",(function(){t.nowPlayPsl||t.isASLSelected||(t.isAnyPlayerFull||(t.nowPlayMultipleShareWithMaster?t.handleNormalModeSwitchToMultiple():t.handleNormalModeSwitchToSingle()),t.$nextTick(t.layout))})),e.on("share-start",(function(n,r){t.setShareStart(r),t.isNewSwitchViewLogic?t.nowPlayPsl||t.isAnyPlayerFull||(r?t.hasASLVideo&&t.isASLSelected?(t.move(),t.handleShareStartUnderASLWork(e,i,s,a)):t.nowPlayMultipleShareWithMaster&&(t.move(),t.playerShowShareMulti()):t.hasASLVideo&&t.isASLSelected?(t.move(),t.handleShareEndUnderASLWork(e,i,s,a)):(t.moveBack(),t.playerShowMaster())):r?(t.hasASLVideo&&t.isASLSelected&&t.handleShareStartUnderASLWork(e,i,s),e.isFullscreen()||i&&i.isFullscreen()||t.isASLSelected||t.move()):(t.hasASLVideo&&t.isASLSelected&&t.handleShareEndUnderASLWork(e,i,s),e.isFullscreen()||i&&i.isFullscreen()||t.isASLSelected||t.moveBack())})),e.on("sign-play",(function(n,r){t.isNewSwitchViewLogic?t.nowPlayPsl||t.isAnyPlayerFull||(r?(t.move(),t.playerShowASL()):(t.nowPlayMultipleShareWithMaster?i&&i.show():(t.moveBack(),i&&i.hide()),e.show(),s&&s.hide(),a&&a.hide())):r?e.isFullscreen()||i&&i.isFullscreen()||t.shareStart||t.move():e.isFullscreen()||i&&i.isFullscreen()||t.shareStart||t.moveBack()})),ci["e"]||e.one("suspend",(function(){0===e.currentTime()&&e.currentTime(.01)})),e.on("play",(function(){var i=t.speed;ci["c"]&&1!==i&&e.playbackRate(i),t.setCheckInterval()})),e.on("pause",(function(){t.clearCheckInterval()})),e.on("ended",(function(){t.clearCheckInterval(),1===t.continueMode&&-1!==t.nextClipStartTime||(e.currentTime(0),e.pause())})),e.on("timeupdate",t.updateTime),e.on("layout",t.layout),t.initSummary()}))},handleSignPlayerUrlChange:function(){var e=this,t=this.signPlayer;if(t){var i=this.getShareStartPlayUrlByKey("gallaryMp4Url"),s=this.getShareStartPlayUrlByKey("viewMp4Url"),a=this.getShareStartPlayUrlByKey("aslVideoList")||[],n="GV"===this.playbackModel&&i?i:s,r=a.find((function(t){return t.language===e.aslLanguage}));n=(null===r||void 0===r?void 0:r.videoUrl)||s,n!==t.src()&&t.src({type:"video/mp4",src:n})}},createSharePlayer:function(){var e,t=this;e=this.shareMp4Url||this.hasASLVideo&&this.speakerUrl,this.sharePlayer=Object(u["default"])(this.$refs.sharePlayer,{controls:!0,preload:"auto",autoplay:ci["e"],sources:{src:e,type:"video/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1},(function(){var e=t.sharePlayer;t.insertOverlayEl(e),e.tech().on("mouseup",t.togglePlay)}))},createAttendeePlayer:function(){var e=this,t=this.productionStudioMp4Url;this.attendeePlayer=Object(u["default"])(this.$refs.attendeePlayer,{controls:!0,preload:"auto",autoplay:ci["e"],sources:{src:t,type:"video/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1},(function(){var t=e.attendeePlayer;e.insertOverlayEl(t),t.tech().on("mouseup",e.togglePlay)}))},reorderControlBar:function(){var e=this.player,t=e.controlBar.contentEl(),i=e.controlBar.progressControl.contentEl(),s=e.controlBar.playToggle.contentEl();t.insertBefore(i,s)},registerPlugins:function(){var e=this,t=this.player,i=this.sharePlayer,s=this.audioPlayer,a=this.signPlayer,n=this.attendeePlayer,r=this.syncWithAudio,o=["multipleClip","timeRange","customTitle","fixAria","bigPlayButton","extendControl","speed","languageAudioLib","languageAsl","highlights","playbackRange","preview","captions","playbackModel","fullscreenToggle","contextMenu","chapterMarker","shareMarker","pslMarker","pollResult","thumbnailSprite","keyboardShortcuts"],l=["timeRange","customTitle","fixAria","bigPlayButton","extendControl","speed","fullscreenToggle","keyboardShortcuts"],h=this.zoomNote?l:o;h.forEach((function(o){var l=e.hasASLVideo,h="languageAudioLib"===o&&e.hasInterpreterList&&!l,c="languageAsl"===o&&l,u="pslMarker"===o&&e.needPslVtt;(c||h||u||"languageAudioLib"!==o&&"languageAsl"!==o&&"pslMarker"!==o)&&t[o]({sharePlayer:i,audioPlayer:s,signPlayer:a,attendeePlayer:n,synchronize:r})}))},shouldShowSharePanel:function(){if(this.isNewSwitchViewLogic){var e=this.sharePlayer;return!!e&&(!!e.isFullscreen()||!this.nowPlayPsl&&(this.nowPlayMultipleShareWithMaster||this.isASLSelected))}var t=this.sharePlayer,i=this.shareStart;return t?t.isFullscreen()||i||this.isASLSelected:i||this.isASLSelected},layout:function(){this.enableRedesignLayout?this.reDesignLayout():this.useNewLayout?this.newLayout():(this.hasMultiPlayer&&this.sharePlayerLayout(),this.playerLayout()),this.player.trigger("player-resize",{mainPlayerWidth:this.hasMultiPlayer?this.shareWidth:this.viewWidth})},computedWrapperHeight:function(e){return this.showTrimControl||this.showHighlightControl?(this.showTrimControl&&(e=e-L["j"]-L["z"]),this.showHighlightControl&&(e-=L["j"])):e-=L["j"],e},playerLayout:function(){var e=this.$refs.playerViewWrapper,t=e.clientWidth,i=e.clientHeight,s=this.computedWrapperHeight(i),a=this.viewResolvtionsWidth,n=this.viewResolvtionsHeight;this.hasMultiPlayer?(this.viewWidth=t,this.viewHeight=t*n/a):(this.viewHeight=Math.min(s,t*n/a),this.viewWidth=this.viewHeight*a/n)},reDesignLayout:function(){var e=window.innerWidth,t=window.innerHeight,i=ci["a"]?1:0,s=0,a=0,n=e<L["u"].minDoubleColumnWidth;if(n)this.setSmallScreenStatus(!0),s=e<L["u"].normalMarginMinWidth?e-i:e-2*L["u"].normalPdWidth-i;else{this.setSmallScreenStatus(!1);var r=e-2*L["u"].normalPdWidth-i;s=this.hasMultiPlayer||this.hasTranscriptOrChat?this.leftVideoWidth?this.leftVideoWidth:Math.min(L["u"].maxMediaSize,r-L["u"].rightPanelSize-L["u"].dragBarWidth):this.leftVideoWidth?this.leftVideoWidth:Math.min(L["u"].maxMediaSize,r),a=this.rightPanelWidth?this.rightPanelWidth:L["u"].rightPanelSize}var o=s/L["g"];if(this.isNewSwitchViewLogic&&this.nowPlayPsl?(Object(He["c"])(document.documentElement,"multi-player"),Object(He["c"])(document.body,"multi-player"),Object(He["a"])(document.documentElement,"single-player"),Object(He["a"])(document.body,"single-player"),this.attendeeWidth=s,this.attendeeHeight=o,this.panelRWidth="100%"):this.hasMultiPlayer?(Object(He["a"])(document.documentElement,"multi-player"),Object(He["a"])(document.body,"multi-player"),Object(He["c"])(document.documentElement,"single-player"),Object(He["c"])(document.body,"single-player"),this.shareWidth=s,this.shareHeight=o,this.viewWidth=a-L["u"].rightPanelPlayerExtraWidth,this.viewHeight=this.viewWidth/L["g"],this.playerViewWrapperWidth=a-L["u"].rightPanelPlayerExtraWidth,this.playerViewWrapperHeight=this.playerViewWrapperWidth/L["g"],this.signLanguageTitleWidth=this.playerViewWrapperWidth,this.panelRWidth=a+"px"):(Object(He["c"])(document.documentElement,"multi-player"),Object(He["c"])(document.body,"multi-player"),Object(He["a"])(document.documentElement,"single-player"),Object(He["a"])(document.body,"single-player"),this.viewWidth=s,this.viewHeight=o,this.playerViewWrapperWidth=s,this.playerViewWrapperHeight=o,this.panelRWidth="100%"),n){var l,h=this.$refs.transcriptWrapper;if(l=this.nowPlayPsl?this.$refs.playerAttendee:this.isASLSelected||this.shareStart?this.$refs.playerShare:this.$refs.playerView,h&&l){e<L["u"].normalMarginMinWidth?this.transcriptWrapperWidth=s-L["u"].normalPdWidth:this.transcriptWrapperWidth=s;var c=document.querySelector(".r-header"),u=c.offsetHeight;this.transcriptWrapperHeight=t-u-L["u"].masterPlayerMarginTop}}var d=this.$refs.panelR,p=0;p=d.getBoundingClientRect().top,e<L["u"].normalMarginMinWidth?this.playerViewScrollerHeight=t-p:this.playerViewScrollerHeight=t-p-L["u"].masterPlayerMarginTop,n||(this.hasMultiPlayer?this.isASLSelected?this.transcriptWrapperHeight=t-p-this.playerViewWrapperHeight-L["u"].aslTitleHeight-L["u"].masterPlayerMarginTop:this.transcriptWrapperHeight=t-p-this.playerViewWrapperHeight-L["u"].masterPlayerMarginTop:this.transcriptWrapperHeight=t-p,this.transcriptWrapperWidth=a)},newLayout:function(){var e=window.innerWidth,t=ci["a"]?1:0,i=["xl","lg","md","sm"],s=0,a=0,n=e<L["y"].sm-t;if(n)s=e-2*L["q"];else for(var r=i.length,o=0;o<r;o++){var l=i[o];if(e>=L["y"][l]-t){s=this.leftVideoWidth?this.leftVideoWidth:L["n"][l],a=this.rightPanelWidth?this.rightPanelWidth:L["w"][l];break}}var h=s/L["g"];this.isNewSwitchViewLogic&&this.nowPlayPsl?(this.attendeeWidth=s,this.attendeeHeight=h,this.panelRWidth="100%"):this.hasMultiPlayer?(this.shareWidth=s,this.shareHeight=h,n||(this.viewWidth=a,this.viewHeight=a/L["g"],this.playerViewWrapperWidth=a),this.panelRWidth=a+"px"):(this.viewWidth=s,this.viewHeight=h,n||(this.playerViewWrapperWidth="auto"),this.panelRWidth="100%"),n||(this.rightPanelWidth||(this.transcriptWrapperHeight=this.showHighlightControl?h+40:h),this.transcriptWrapperWidth=a)},sharePlayerLayout:function(){var e=this.$refs.playerShareWrapper,t=e.clientWidth,i=e.clientHeight,s=this.computedWrapperHeight(i),a=this.shareResolvtionsWidth,n=this.shareResolvtionsHeight;this.shareHeight=Math.min(s,t*n/a),this.shareWidth=this.shareHeight*a/n},onMouseDown:function(e){var t=this,i=this.player,s=e.clientX,a=20,n=this.$el.clientWidth,r=2*n/5,o=n/5;this.enableRedesignLayout&&(a=30,r=(n+L["u"].rightPanelPlayerExtraWidth-a)/2,o=L["u"].rightPanelSize);var l=this.$refs.panelR.clientWidth,h=this.$refs.playerShareWrapper.clientWidth,c=n-o-a,u=n-r-a;this.isDrag=!0;var d=i.paused();d||i.pause(),this.onMouseMove=function(e){var i=e.clientX-s,a=l-i,d=Math.min(r,Math.max(a,o));if(t.useNewLayout){var p=h+i;t.leftVideoWidth=Math.min(c,Math.max(p,u)),t.rightPanelWidth=d,t.layout()}else t.layout(),t.panelRPrevWidth=d,t.panelRWidth=t.panelRPrevWidth+"px",t.playerViewPreWrapperWidth="calc(".concat(100*(n-t.panelRPrevWidth)/n,"% - 20px)");e.stopPropagation(),e.preventDefault()},this.onMouseUp=function(){d||i.play(),t.isDrag=!1,document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp)},document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)},move:function(){var e=document.activeElement,t=this.player,i=this.sharePlayer,s=this.$refs.playerShare,a=t.controlBar.contentEl(),n=i.contentEl();n.appendChild(a);var r=t.playbackRange().backRangeSettingComp;if(r){var o=r.$el;n.appendChild(o)}var l=t.textTrackDisplay.contentEl();n.appendChild(l);var h=t.contextMenu().contextMenuComp;if(h){var c=h.$el;n.appendChild(c)}var u=t.bigPlayButton().comp.$el;n.appendChild(u);var d=t.keyboardShortcuts().comp.$el;n.appendChild(d);var p=t.multipleClip().upcomingComp;if(p){var m=p.$el;n.appendChild(m)}var f=this.$refs.gettyNotice;if(f){var g=f.$el;n.insertBefore(g,a)}var v=t.highlights().highlightsSettingComp;if(v){var y=v.$el;n.appendChild(y)}var w=t.highlights().highlightsControlComp;if(w){var b=w.$el;n.appendChild(b)}var P=t.playbackRange().trimControlComp;if(P){var S=P.$el;n.appendChild(S)}var C=t.playbackRange().loadingComp;if(C){var x=C.$el;n.appendChild(x)}var M=this.$refs.leftBottomWrapper,k=this.$refs.transcriptWrapper;M&&(this.enableRedesignLayout&&s.lastChild===k?s.insertBefore(M,k):s.appendChild(M)),this.$nextTick((function(){e.focus()}))},moveBack:function(){var e=document.activeElement,t=this.player,i=this.$refs.playerView,s=t.contentEl(),a=t.controlBar.contentEl();s.appendChild(a);var n=t.playbackRange().backRangeSettingComp;if(n){var r=n.$el;s.appendChild(r)}var o=t.textTrackDisplay.contentEl();s.appendChild(o);var l=t.contextMenu().contextMenuComp;if(l){var h=l.$el;s.appendChild(h)}var c=t.bigPlayButton().comp.$el;s.appendChild(c);var u=t.keyboardShortcuts().comp.$el;s.appendChild(u);var d=t.multipleClip().upcomingComp;if(d){var p=d.$el;s.appendChild(p)}var m=this.$refs.gettyNotice;if(m){var f=m.$el;s.insertBefore(f,a)}var g=t.highlights().highlightsSettingComp;if(g){var v=g.$el;s.appendChild(v)}var y=t.highlights().highlightsControlComp;if(y){var w=y.$el;s.appendChild(w)}var b=t.playbackRange().trimControlComp;if(b){var P=b.$el;s.appendChild(P)}var S=t.playbackRange().loadingComp;if(S){var C=S.$el;s.appendChild(C)}var x=this.$refs.transcriptWrapper,M=this.$refs.leftBottomWrapper;M&&(this.enableRedesignLayout&&i.lastChild===x?i.insertBefore(M,x):i.appendChild(M)),this.$nextTick((function(){e.focus()}))},moveToAttendee:function(){var e=this.attendeePlayer;if(this.attendeePlayer){var t=document.activeElement,i=this.player,s=this.$refs.playerAttendee,a=i.controlBar.contentEl(),n=e.contentEl();n.appendChild(a);var r=i.playbackRange().backRangeSettingComp;if(r){var o=r.$el;n.appendChild(o)}var l=i.textTrackDisplay.contentEl();n.appendChild(l);var h=i.contextMenu().contextMenuComp;if(h){var c=h.$el;n.appendChild(c)}var u=i.bigPlayButton().comp.$el;n.appendChild(u);var d=i.keyboardShortcuts().comp.$el;n.appendChild(d);var p=i.multipleClip().upcomingComp;if(p){var m=p.$el;n.appendChild(m)}var f=this.$refs.gettyNotice;if(f){var g=f.$el;n.insertBefore(g,a)}var v=i.highlights().highlightsSettingComp;if(v){var y=v.$el;n.appendChild(y)}var w=i.highlights().highlightsControlComp;if(w){var b=w.$el;n.appendChild(b)}var P=i.playbackRange().trimControlComp;if(P){var S=P.$el;n.appendChild(S)}var C=i.playbackRange().loadingComp;if(C){var x=C.$el;n.appendChild(x)}var M=this.$refs.leftBottomWrapper,k=this.$refs.transcriptWrapper;M&&(this.enableRedesignLayout&&s.lastChild===k?s.insertBefore(M,k):s.appendChild(M)),this.$nextTick((function(){t.focus()}))}},handleShareStartUnderASLWork:function(e,t,i,s){var a=this.getShareStartPlayUrlByKey("viewMp4Url"),n=this.getShareStartPlayUrlByKey("shareMp4Url"),r=this.getShareStartPlayUrlByKey("gallaryMp4WithshareUrl"),o=this.getShareStartPlayUrlByKey("viewMp4WithshareUrl"),l=n||a,h=o||n;l="GV"===this.playbackModel&&r?r:h,this.handleSignPlayerUrlChange(),t&&l!==t.src()&&t.src({type:"video/mp4",src:l}),this.handlePlayerShowWhenShareUnderASL(e,t,i,s)},handleShareEndUnderASLWork:function(e,t,i,s){var a=this.getShareStartPlayUrlByKey("gallaryMp4Url"),n=this.getShareStartPlayUrlByKey("viewMp4Url"),r="GV"===this.playbackModel&&a?a:n;this.handleSignPlayerUrlChange(),t&&r!==t.src()&&t.src({type:"video/mp4",src:r}),this.handlePlayerShowWhenShareUnderASL(e,t,i,s)},handlePlayerShowWhenShareUnderASL:function(e,t,i,s){this.isNewSwitchViewLogic?this.nowPlayPsl||this.playerShowASL():(e.hide(),i&&i.show())},switchPslAudio:function(e){var t=this.syncWithAudio;t.choosePslAudio(e)},handlePslStartUnderAttendee:function(){"origin"===this.language&&this.switchPslAudio(!0),this.moveToAttendee(),this.playerShowPsl()},handlePslEndUnderAttendee:function(){var e=this.player,t=this.sharePlayer,i=this.signPlayer,s=this.attendeePlayer;"origin"===this.language&&this.switchPslAudio(!1),this.isASLSelected||this.nowPlayMultipleShareWithMaster?(t&&t.show(),s&&s.hide(),this.move(),this.isASLSelected?(i&&i.show(),e.hide()):this.nowPlayMultipleShareWithMaster&&(e.show(),i&&i.hide())):(this.moveBack(),this.playerShowMaster())},handleNormalModeSwitchToMultiple:function(){this.move(),this.playerShowShareMulti()},handleNormalModeSwitchToSingle:function(){this.moveBack(),this.playerShowMaster()},handleOutFull:function(){var e,t=this.player,i=this.sharePlayer,s=this.attendeePlayer;if(this.nowPlayPsl)"origin"===this.language&&this.switchPslAudio(!0),this.moveToAttendee(),this.playerShowPsl(),t.trigger("player-resize",{mainPlayerWidth:null===s||void 0===s||null===(e=s.contentEl())||void 0===e?void 0:e.clientWidth});else if(this.hasMultiPlayer){var a;"origin"===this.language&&this.switchPslAudio(!1),this.isASLSelected?this.playerShowASL():this.nowPlayMultipleShareWithMaster&&this.playerShowShareMulti(),this.move(),t.trigger("player-resize",{mainPlayerWidth:null===i||void 0===i||null===(a=i.contentEl())||void 0===a?void 0:a.clientWidth})}else"origin"===this.language&&this.switchPslAudio(!1),this.playerShowMaster(),this.moveBack(),t.trigger("player-resize",{mainPlayerWidth:t.contentEl().clientWidth})},playerShowPsl:function(){var e=this.player,t=this.sharePlayer,i=this.signPlayer,s=this.attendeePlayer;e.hide(),t&&t.hide(),i&&i.hide(),s&&s.show()},playerShowASL:function(){var e=this.player,t=this.sharePlayer,i=this.signPlayer,s=this.attendeePlayer;e.hide(),t&&t.show(),i&&i.show(),s&&s.hide()},playerShowShareMulti:function(){var e=this.player,t=this.sharePlayer,i=this.signPlayer,s=this.attendeePlayer;e.show(),t&&t.show(),i&&i.hide(),s&&s.hide()},playerShowMaster:function(){var e=this.player,t=this.sharePlayer,i=this.signPlayer,s=this.attendeePlayer;e.show(),t&&t.hide(),i&&i.hide(),s&&s.hide()},handleSwitchRightPanel:function(){if(this.enableRedesignLayout){var e=this.$refs.transcriptWrapper;if(this.smallScreen){var t;t=this.nowPlayPsl?this.$refs.playerAttendee:this.isASLSelected||this.shareStart?this.$refs.playerShare:this.$refs.playerView,e&&t&&t.appendChild(e)}else{var i=this.$refs.panelR;e&&i&&i.appendChild(e)}}}},Object(p["d"])({setShareStart:"SET_SHARE_START",setPslStart:"SET_PSL_START",setSmallTranscriptStatus:"SET_SMALL_TRANSCRIPT_STATUS",setSmallScreenStatus:"SET_SMALL_SCREEN_STATUS"})),watch:{shareStart:{immediate:!0,handler:function(e){this.handleSwitchRightPanel(),this.isNewSwitchViewLogic&&this.nowPlayPsl||(this.useNewLayout||(this.panelRWidth=e?this.panelRPrevWidth?this.panelRPrevWidth+"px":"25%":"100%",this.playerViewWrapperWidth=e||!this.hasTranscriptOrChat?"100%":this.playerViewPreWrapperWidth?this.playerViewPreWrapperWidth:"calc(75% - 20px)"),this.$nextTick(this.layout))}},isASLSelected:{immediate:!0,handler:function(e){var t=this;this.handleSwitchRightPanel(),this.isNewSwitchViewLogic&&this.nowPlayPsl||(this.useNewLayout||(this.panelRWidth=e?this.panelRPrevWidth?this.panelRPrevWidth+"px":"25%":"100%",this.playerViewWrapperWidth=e||!this.hasTranscriptOrChat?"100%":this.playerViewPreWrapperWidth?this.playerViewPreWrapperWidth:"calc(75% - 20px)"),this.enableRedesignLayout&&e?setTimeout((function(){t.layout()}),0):this.$nextTick(this.layout))}},nowPlayPsl:{immediate:!0,handler:function(){this.handleSwitchRightPanel(),this.isNewSwitchViewLogic&&this.$nextTick(this.layout)}},isAttendeeViewOn:{immediate:!0,handler:function(){this.handleSwitchRightPanel(),this.isNewSwitchViewLogic&&this.$nextTick(this.layout)}},transcriptWrapperWidth:{immediate:!0,handler:function(e){this.enableRedesignLayout&&this.setSmallTranscriptStatus(!!(e<L["w"].md))}},smallScreen:{immediate:!0,handler:function(e){this.handleSwitchRightPanel()}}}},ys=vs,ws=(i("2913"),Object(S["a"])(ys,s,a,!1,null,"d4043714",null));t["default"]=ws.exports},"3e1c":function(e,t,i){},"3ef2":function(e,t,i){},"3fd5":function(e,t,i){},"41d0":function(e,t,i){"use strict";i("213d")},4253:function(e,t,i){},"42a8":function(e,t,i){"use strict";i("caa8")},4481:function(e,t,i){},"45c6":function(e,t,i){"use strict";i("3ef2")},"487e":function(e,t,i){"use strict";i("a624")},5125:function(e,t,i){},"5af6":function(e,t,i){"use strict";i("c736")},"7d99":function(e,t,i){"use strict";i("4253")},"7dcd":function(e,t,i){},"8efa":function(e,t,i){},9620:function(e,t,i){},"97b3":function(e,t,i){"use strict";i("3fd5")},"9a51":function(e,t,i){"use strict";var s=i("6b1d"),a=i("70b7"),n=i("185a").f,r=i("b495"),o=i("2a3e"),l=i("9eea"),h=i("730c"),c=i("3e32"),u=i("0e93"),d=a("".endsWith),p=a("".slice),m=Math.min,f=c("endsWith"),g=!u&&!f&&!!function(){var e=n(String.prototype,"endsWith");return e&&!e.writable}();s({target:"String",proto:!0,forced:!g&&!f},{endsWith:function(e){var t=o(h(this));l(e);var i=arguments.length>1?arguments[1]:void 0,s=t.length,a=void 0===i?s:m(r(i),s),n=o(e);return d?d(t,n,a):p(t,a-n.length,a)===n}})},a367:function(e,t,i){"use strict";i("7dcd")},a4a0:function(e,t,i){},a624:function(e,t,i){},a782:function(e,t,i){"use strict";i("b05f")},adb9:function(e,t,i){"use strict";i("df78")},b05f:function(e,t,i){},b78a:function(e,t,i){},b990:function(e,t,i){},bf7c:function(e,t,i){"use strict";i("3332")},c736:function(e,t,i){},caa8:function(e,t,i){},df08:function(e,t,i){"use strict";i("4481")},df78:function(e,t,i){},f507:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"summary-wrapper"},[i("div",{staticClass:"summary-title"},[i("span",[e._v(e._s(e.$t("summary")))]),e.enableRedesignLayout?e._e():i("zm-button",{ref:"copyBtn",staticClass:"copy-btn",attrs:{ghost:"",disabled:e.disableCopyBtn,icon:"zm-icon-copy","aria-label":"Copy Summary"},on:{click:function(t){return t.stopPropagation(),e.handleCopyToClipboard(t)}}}),e.canSummaryEdit?i("zm-button",{staticClass:"edit-btn",attrs:{ghost:"",icon:"zm-icon-edit","aria-label":"Edit Summary"},on:{click:e.handleEditSummary}}):e._e()],1),[e.enableRedesignLayout?i("summary-content",{attrs:{content:e.summary}}):i("text-multiline-ellipsis",{attrs:{content:e.summary,"font-size":14,"line-height":20,"max-lines":3,"view-all-text":e.viewAllText,"view-less-text":e.viewLessText}})],e.canSummaryEdit?i("summary-edit",{attrs:{"show-summary-edit":e.showEditDialog,overallSummary:e.summary},on:{"update:showSummaryEdit":function(t){e.showEditDialog=t},"update:show-summary-edit":function(t){e.showEditDialog=t},close:function(t){e.showEditDialog=!1}}}):e._e()],2)},a=[],n=i("de79"),r=(i("2d6d"),i("ef1f"),i("ef14"),i("cfce"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"out-wrapper",style:e.cssVars},[i("div",{ref:"hidden",staticClass:"rec-hide"},[e._v(e._s(e.content))]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showOriginal,expression:"showOriginal"}],ref:"original",staticClass:"original"},[i("div",[e._v(e._s(e.content))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showNested,expression:"showNested"}],staticClass:"wrapper"},[i("div",{staticClass:"text",class:{"show-all":e.isShowAll}},[i("zm-button",{staticClass:"btn",attrs:{ghost:"",tabindex:"0","aria-label":e.ariaText},on:{click:e.handleClick}},[e._v(" "+e._s(e.btnText)+" ")]),e._v(e._s(e.content)+" ")],1)])])}),o=[],l=(i("e94e"),i("e782")),h={name:"TextMultilineEllipsis",data:function(){return{showOriginal:!1,showNested:!1,isShowAll:!1}},props:{content:{type:String,default:""},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:20},maxLines:{type:Number,default:3},viewAllText:{type:String,default:"View All"},viewLessText:{type:String,default:"View Less"}},computed:{cssVars:function(){return{"--fontSize":this.fontSize+"px","--lineHeight":this.lineHeight+"px","--maxTextHeight":this.lineHeight*this.maxLines+"px","--textBeforeHeight":"calc(100% - ".concat(this.lineHeight,"px)"),"--btnHeight":this.lineHeight-2+"px"}},btnText:function(){return this.isShowAll?this.viewLessText:this.viewAllText},ariaText:function(){return this.isShowAll?"View Less Summary":"View All Summary"}},mounted:function(){Object(l["a"])(this.$el.children[0],this.handleShow),this.handleShow()},beforeDestroy:function(){Object(l["b"])(this.$el.children[0],this.handleShow)},methods:{handleShow:function(){var e=this;this.$nextTick((function(){var t=e.$refs.hidden.offsetHeight;t>=e.lineHeight*(e.maxLines+1)?(e.showOriginal=!1,e.showNested=!0):(e.showOriginal=!0,e.showNested=!1)}))},handleClick:function(){this.isShowAll=!this.isShowAll}}},c=h,u=(i("3833"),i("2be6")),d=Object(u["a"])(c,r,o,!1,null,"ec25cd8a",null),p=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"summary-content-wrapper",on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[i("div",{staticClass:"summary-content-outer"},[i("div",{ref:"summaryContent",staticClass:"content-base",class:{"now-expanded":e.isExpand}},[e._v(e._s(e.content))]),e.isExpand?i("div",{staticClass:"expanded"},[e._v(e._s(e.content))]):e._e()]),i("div",{ref:"btnGroupWrapper",staticClass:"btn-group-wrapper"},[i("div",{staticClass:"liner-fill"}),i("div",{staticClass:"btn-group"},[e.showViewSwitch||e.isExpand?i("zm-button",{attrs:{size:"mini",ghost:"","aria-label":e.expandText},on:{click:e.viewSwitch}},[e._v(" "+e._s(e.expandText)+" ")]):e._e(),i("zm-button",{ref:"summaryCopyBtn",attrs:{size:"mini",ghost:"","aria-label":" Copy Summary",disabled:e.disableCopyBtn},on:{click:e.copySummary}},[e._v(" "+e._s(" Copy Summary")+" ")])],1)])])},f=[],g=i("3e2c"),v=i("8b55"),y={name:"SummaryContent",data:function(){return{disableCopyBtn:!1,showViewSwitch:!1,isExpand:!1}},props:{content:{type:String,default:""}},computed:{expandText:function(){return this.isExpand?this.$t("view_less"):this.$t("view_all")}},mounted:function(){Object(l["a"])(this.$refs.summaryContent,this.handleShowViewSwitch),this.handleShowViewSwitch()},beforeDestroy:function(){Object(l["b"])(this.$refs.summaryContent,this.handleShowViewSwitch)},watch:{content:function(){this.handleShowViewSwitch()}},methods:{viewSwitch:function(){this.isExpand=!this.isExpand},copySummary:function(){var e=Object(v["f"])(this.content||"");if(e){this.disableCopyBtn=!0;var t=this.$t("copy_with_pass");this.$message.success(t),this.restoreInThreeSeconds()}else{var i=v["g"]?"Command + C":"Ctrl + C",s="Error!"+this.$t("dialog_message_copy_notice",[i]);this.$message.error(s)}},restoreInThreeSeconds:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t;e.disableCopyBtn=!1;var i=null===(t=e.$refs.summaryCopyBtn)||void 0===t?void 0:t.$el;i&&i.focus()}),3e3)},handleShowViewSwitch:function(){var e=this;this.$nextTick((function(){var t=e.$refs.summaryContent;if(t){var i,s,a=null===(i=e.$refs.summaryContent)||void 0===i?void 0:i.clientHeight,n=null===(s=e.$refs.summaryContent)||void 0===s?void 0:s.scrollHeight;a<n?e.showViewSwitch=!0:(e.showViewSwitch=!1,e.isExpand=!1)}}))},handleMouseEnter:function(){var e=this.$refs.btnGroupWrapper;Object(g["a"])(e,"show-btn")},handleMouseLeave:function(){var e=this.$refs.btnGroupWrapper;Object(g["c"])(e,"show-btn")}}},w=y,b=(i("41d0"),Object(u["a"])(w,m,f,!1,null,"1f46a464",null)),P=b.exports,S=i("9ce4"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("zm-dialog",{attrs:{visible:e.showDialog,"aria-label":"Edit Summary","aria-labelledby":"editSummaryTitle","aria-describedby":"editSummaryTitle",title:e.$t("edit_summary")},on:{"update:visible":function(t){e.showDialog=t},open:e.dialogOpen}},[[i("zm-input",{staticClass:"summary-edit-input",attrs:{type:"textarea",autosize:{minRows:13,maxRows:13},label:"summary"},model:{value:e.newOverallSummary,callback:function(t){e.newOverallSummary=t},expression:"newOverallSummary"}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("zm-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:e.isSaveDisabled},on:{click:e.handleSave}},[e._v(" "+e._s(e.$t("save"))+" ")]),i("zm-button",{attrs:{disabled:e.saveLoading},on:{click:function(t){e.showDialog=!1}}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)]],2)},x=[],M=(i("b55a"),i("365c")),k={name:"SummaryEdit",props:{showSummaryEdit:Boolean,overallSummary:{type:String,default:""}},data:function(){return{saveLoading:!1,newOverallSummary:this.overallSummary}},computed:Object(n["a"])(Object(n["a"])({},Object(S["e"])(["recordMeetId","fileStartTime"])),{},{showDialog:{get:function(){return this.showSummaryEdit},set:function(e){this.$emit("update:showSummaryEdit",e)}},isSaveDisabled:function(){var e;return!(null!==(e=this.newOverallSummary)&&void 0!==e&&e.trim())}}),methods:Object(n["a"])(Object(n["a"])({},Object(S["d"])({updateOverallSummary:"UPDATE_OVERALL_SUMMARY"})),{},{dialogOpen:function(){this.newOverallSummary=this.overallSummary},handleSave:function(){var e,t=this;this.saveLoading=!0;var i=null===(e=this.newOverallSummary)||void 0===e?void 0:e.trim();Object(M["t"])({overallSummary:i,meetingId:this.recordMeetId,fileStartTime:this.fileStartTime}).then((function(e){t.updateOverallSummary(i)})).catch((function(e){var i=e.message?e.message:t.$t("common_error");t.$message({type:"error",message:i,duration:2e3})})).finally((function(){t.saveLoading=!1,t.showDialog=!1}))}})},T=k,_=Object(u["a"])(T,C,x,!1,null,"01c0932e",null),j=_.exports,O={name:"HeadSummary",components:{TextMultilineEllipsis:p,summaryContent:P,SummaryEdit:j},data:function(){return{disableCopyBtn:!1,isDialogEdit:!1,showEditDialog:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(S["e"])(["smartChapters","hasPermissionEdit","hasOverallSummary","overallSummary","enableRedesignLayout"])),{},{summary:function(){if(this.hasOverallSummary)return this.overallSummary||this.$t("no_summary");var e=this.smartChapters?this.smartChapters.filter((function(e){return e.chapter})):[];return e.map((function(e){return e.chapter})).join("\n")||this.$t("no_summary")},viewAllText:function(){return this.$t("view_all")},viewLessText:function(){return this.$t("view_less")},canSummaryEdit:function(){return this.hasPermissionEdit&&this.hasOverallSummary}}),methods:{handleCopyToClipboard:function(){var e=Object(v["f"])(this.summary||"");if(e){this.disableCopyBtn=!0;var t=this.$t("copy_with_pass");this.$message.success(t),this.restoreInThreeSeconds()}else{var i=v["g"]?"Command + C":"Ctrl + C",s="Error!"+this.$t("dialog_message_copy_notice",[i]);this.$message.error(s)}},restoreInThreeSeconds:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t;e.disableCopyBtn=!1;var i=null===(t=e.$refs.copyBtn)||void 0===t?void 0:t.$el;i&&i.focus()}),3e3)},handleEditSummary:function(){this.isDialogEdit=!0,this.showEditDialog=!0}}},L=O,A=(i("a782"),Object(u["a"])(L,s,a,!1,null,"02946e7e",null));t["a"]=A.exports},f8f7:function(e,t,i){"use strict";i("b990")}}]);